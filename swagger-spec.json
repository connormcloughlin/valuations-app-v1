{"openapi":"3.0.0","info":{"title":"Valuations API","version":"1.0.0","description":"API for household content valuations business","contact":{"name":"API Support"}},"servers":[{"url":"http://localhost:5000","description":"Current server"}],"security":[{"BearerAuth":[]}],"tags":[{"name":"Authentication","description":"User authentication and authorization endpoints"},{"name":"Orders","description":"Operations related to client orders and order management"},{"name":"Entities","description":"Operations related to entities (clients, surveyors, insurers)"},{"name":"Risk Assessment","description":"Operations related to risk assessments"},{"name":"Domestic Valuations","description":"Operations related to domestic property valuations"},{"name":"Templates","description":"Operations related to report templates"},{"name":"Appointments","description":"API for managing appointments"},{"name":"OrderForm","description":"Order form management operations"},{"name":"Mobile APIs - Risk Assessment","description":"Mobile-optimized risk assessment APIs that eliminate N+1 query problems"},{"name":"Mobile APIs - Survey","description":"Mobile-optimized survey summary APIs for complete progress tracking"},{"name":"Mobile APIs - Appointment","description":"Mobile-optimized appointment APIs with complete context data"},{"name":"EntityAddresses","description":"Entity Address management endpoints"},{"name":"Health","description":"API Health check endpoints"},{"name":"Media","description":"Media file management endpoints"},{"name":"OrdersList","description":"Order list management endpoints from V_Orders_list view"},{"name":"Order Templates","description":"Order template management endpoints"},{"name":"QraAppointments","description":"QRA Appointment management endpoints"},{"name":"RiskAssessmentCategoryTypeFields","description":"Risk assessment category type fields management endpoints"},{"name":"Risk Assessment Items","description":"Risk assessment item management endpoints"},{"name":"Risk Assessment Numbers","description":"Risk assessment number management endpoints"},{"name":"Risk Assessment Sections","description":"Risk assessment section management endpoints"},{"name":"RiskTemplateCategories","description":"Risk template categories management endpoints"},{"name":"RiskTemplateCategoryTypeFields","description":"Risk template category type fields management endpoints"},{"name":"RiskTemplateItems","description":"Risk template items management endpoints"},{"name":"RiskTemplates","description":"Risk templates management endpoints"},{"name":"RiskTemplateSections","description":"Risk template sections management endpoints"},{"name":"Synchronization","description":"API for offline synchronization between mobile devices and server"},{"name":"User Entity Mappings","description":"Manage external user access to specific entities"}],"components":{"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT Bearer token for API authentication. Include your JWT token in the Authorization header as \"Bearer <token>\"."}},"schemas":{"Orders":{"type":"object","properties":{"orderid":{"type":"number","format":"int32"},"clientsname":{"type":"string","format":"nullable"},"clientsemail":{"type":"string","format":"nullable"},"clientphone":{"type":"string","format":"nullable"},"clientaddress":{"type":"string","format":"nullable"},"userid":{"type":"number","format":"int32"},"useremail":{"type":"string"},"ordertype":{"type":"string","format":"nullable"}}},"Orderlist":{"type":"object","properties":{"orderlistid":{"type":"number","format":"int32"},"userid":{"type":"string","format":"nullable"},"formname":{"type":"string","format":"nullable"},"orderlist":{"type":"string","format":"nullable"}}},"OrdersList":{"type":"object","properties":{"orderid":{"type":"number","format":"int32"},"orderStatus":{"type":"string","format":"nullable"},"policy":{"type":"string","format":"nullable"},"clientsName":{"type":"string","format":"nullable"},"clientID":{"type":"string","format":"nullable"},"client":{"type":"string","format":"nullable"},"title":{"type":"string","format":"nullable"},"initials":{"type":"string","format":"nullable"},"requestedBy":{"type":"string","format":"nullable"},"surveyor":{"type":"string","format":"nullable"},"poNo":{"type":"string","format":"nullable"},"poNo2":{"type":"string","format":"nullable"},"capturedBy":{"type":"string","format":"nullable"},"sumInsured":{"type":"string","format":"nullable"},"requestedByField":{"type":"string","format":"nullable"},"fullAddress":{"type":"string","format":"nullable"},"region":{"type":"string","format":"nullable"},"city":{"type":"string","format":"nullable"},"surveyorID":{"type":"string","format":"nullable"},"orderdate":{"type":"string","format":"nullable"},"dateModified":{"type":"string","format":"nullable"},"dateAdded":{"type":"string","format":"nullable"},"dateCompleted":{"type":"string","format":"nullable"},"insurer":{"type":"string","format":"nullable"},"broker":{"type":"string","format":"nullable"},"month":{"type":"string","format":"nullable"},"year":{"type":"string","format":"nullable"}}},"Orderform":{"type":"object","properties":{"orderid":{"type":"number","format":"int32"},"fromid":{"type":"string","format":"nullable"},"fromcompany":{"type":"string","format":"nullable"},"fromtel":{"type":"string","format":"nullable"},"fromemail":{"type":"string","format":"nullable"},"fromfax":{"type":"string","format":"nullable"},"contentsvaluation":{"type":"string","format":"nullable"},"claimpostloss":{"type":"string","format":"nullable"},"buildingvaluation":{"type":"string","format":"nullable"},"vehicleinspections":{"type":"string","format":"nullable"},"clientid":{"type":"string","format":"nullable"},"clientsname":{"type":"string","format":"nullable"},"clientspolicynumber":{"type":"string","format":"nullable"},"clientaddress1":{"type":"string","format":"nullable"},"clientaddress2":{"type":"string","format":"nullable"},"clientaddress3":{"type":"string","format":"nullable"},"clientaddress4":{"type":"string","format":"nullable"},"clientsuburb":{"type":"string","format":"nullable"},"clientcity":{"type":"string","format":"nullable"},"clientprovince":{"type":"string","format":"nullable"},"clientcontacttellh":{"type":"string","format":"nullable"},"clientcontacttelw":{"type":"string","format":"nullable"},"clientcontactemail":{"type":"string","format":"nullable"},"clientcontactcell":{"type":"string","format":"nullable"},"underwriterid":{"type":"string","format":"nullable"},"underwritername":{"type":"string","format":"nullable"},"brokerid":{"type":"string","format":"nullable"},"brokername":{"type":"string","format":"nullable"},"contentssuminsured":{"type":"string","format":"nullable"},"specifiedinsuredamount":{"type":"string","format":"nullable"},"unspecifiedinsuredamount":{"type":"string","format":"nullable"},"presenceofvaluable":{"type":"string","format":"nullable"},"currenthouseowners":{"type":"string","format":"nullable"},"insuredvehicleregnos":{"type":"string","format":"nullable"},"reason":{"type":"string","format":"nullable"},"specialinstructions":{"type":"string","format":"nullable"},"partyname":{"type":"string","format":"nullable"},"partytel":{"type":"string","format":"nullable"},"partypostal1":{"type":"string","format":"nullable"},"partypostal2":{"type":"string","format":"nullable"},"partypostal3":{"type":"string","format":"nullable"},"partycity":{"type":"string","format":"nullable"},"partyregion":{"type":"string","format":"nullable"},"partycode":{"type":"string","format":"nullable"},"partycountry":{"type":"string","format":"nullable"},"partyemail":{"type":"string","format":"nullable"},"partyvatno":{"type":"string","format":"nullable"},"dateadded":{"type":"string","format":"nullable"},"datemodified":{"type":"string","format":"nullable"},"partycell":{"type":"string","format":"nullable"},"ordertype":{"type":"string","format":"nullable"},"orderstatus":{"type":"string","format":"nullable"},"surveyorid":{"type":"string","format":"nullable"},"clientaddresscode":{"type":"string","format":"nullable"},"riskquoteid":{"type":"string","format":"nullable"},"iscomplete":{"type":"string","format":"nullable"},"sibefore":{"type":"string","format":"nullable"},"requestedby":{"type":"string","format":"nullable"},"requestedbycontact":{"type":"string","format":"nullable"},"datereceived":{"type":"string","format":"nullable"},"datecompleted":{"type":"string","format":"nullable"},"fromcontactid":{"type":"string","format":"nullable"},"entityid":{"type":"string","format":"nullable"},"clientadvised":{"type":"string","format":"nullable"},"policyrenewal":{"type":"string","format":"nullable"},"newbusiness":{"type":"string","format":"nullable"},"clientrequest":{"type":"string","format":"nullable"},"clientpay":{"type":"string","format":"nullable"},"brokerpay":{"type":"string","format":"nullable"},"resonsibleforpaymentid":{"type":"string","format":"nullable"},"entityaddressid":{"type":"string","format":"nullable"},"addedby":{"type":"string","format":"nullable"},"modifiedby":{"type":"string","format":"nullable"}}},"Ordertemplate":{"type":"object","properties":{"ordertemplateid":{"type":"number","format":"int32"},"risktemplateid":{"type":"string","format":"nullable"},"orderid":{"type":"string","format":"nullable"}}},"Entity":{"type":"object","properties":{"entityid":{"type":"number","format":"int32"},"company":{"type":"string"},"entitytypeid":{"type":"string","format":"nullable"},"entitycategoryid":{"type":"string","format":"nullable"},"notes":{"type":"string","format":"nullable"},"dateadded":{"type":"string","format":"nullable"},"datemodified":{"type":"string","format":"nullable"},"legalname":{"type":"string","format":"nullable"},"switchboard":{"type":"string","format":"nullable"},"fax":{"type":"string","format":"nullable"},"url":{"type":"string","format":"nullable"},"email":{"type":"string","format":"nullable"},"vatnum":{"type":"string","format":"nullable"},"vatexemptnum":{"type":"string","format":"nullable"},"accounttypeid":{"type":"string","format":"nullable"},"compregnum":{"type":"string","format":"nullable"},"accountnum":{"type":"string","format":"nullable"},"modifiedby":{"type":"string","format":"nullable"},"isaccountcustomer":{"type":"string","format":"nullable"},"accountsupplierid":{"type":"string","format":"nullable"},"accountcustomerid":{"type":"string","format":"nullable"},"isaccountsupplier":{"type":"string","format":"nullable"},"issupplier":{"type":"string","format":"nullable"},"invoiceto":{"type":"string","format":"nullable"},"paymentterms":{"type":"string","format":"nullable"},"markup":{"type":"string","format":"nullable"},"comments":{"type":"string","format":"nullable"},"accstatid":{"type":"string","format":"nullable"},"policyno":{"type":"string","format":"nullable"},"sourceid":{"type":"string","format":"nullable"},"pricelistid":{"type":"string","format":"nullable"},"bankbranchname":{"type":"string","format":"nullable"},"bankbranchcode":{"type":"string","format":"nullable"},"industryid":{"type":"string","format":"nullable"},"taxtypeid":{"type":"string","format":"nullable"},"inactive":{"type":"string","format":"nullable"},"interestwhenoverdue":{"type":"string","format":"nullable"},"interestratepa":{"type":"string","format":"nullable"},"interestafterdays":{"type":"string","format":"nullable"},"interestcompounded":{"type":"string","format":"nullable"},"dynamicsaccno":{"type":"string","format":"nullable"},"dynamicsaccno2":{"type":"string","format":"nullable"},"settlementdiscperc":{"type":"string","format":"nullable"},"settlementdiscdays":{"type":"string","format":"nullable"}}},"EntityAddress":{"type":"object","properties":{"entityAddressID":{"type":"number","format":"int32"},"entityID":{"type":"string","format":"nullable"},"addressType":{"type":"string","format":"nullable"},"address1":{"type":"string","format":"nullable"},"address2":{"type":"string","format":"nullable"},"address3":{"type":"string","format":"nullable"},"city":{"type":"string","format":"nullable"},"region":{"type":"string","format":"nullable"},"code":{"type":"string","format":"nullable"},"country":{"type":"string","format":"nullable"},"state":{"type":"string","format":"nullable"},"tempID":{"type":"string","format":"nullable"},"isDefault":{"type":"string","format":"nullable"},"address4":{"type":"string","format":"nullable"},"address5":{"type":"string","format":"nullable"}}},"EntityContact":{"type":"object","properties":{"entitycontactid":{"type":"number","format":"int32"},"entityid":{"type":"string","format":"nullable"},"entitytypeid":{"type":"string","format":"nullable"},"entitycategoryid":{"type":"string","format":"nullable"},"alternatecontactid":{"type":"string","format":"nullable"},"entitycontactupdaterid":{"type":"string","format":"nullable"},"entitycontactcreatorid":{"type":"string","format":"nullable"},"physicaladdrid":{"type":"string","format":"nullable"},"postaladdrid":{"type":"string","format":"nullable"},"conttypeid":{"type":"string","format":"nullable"},"positionid":{"type":"string","format":"nullable"},"interestid":{"type":"string","format":"nullable"},"salesconsid":{"type":"string","format":"nullable"},"buscatid":{"type":"string","format":"nullable"},"abccatid":{"type":"string","format":"nullable"},"isdefault":{"type":"string","format":"nullable"},"company":{"type":"string","format":"nullable"},"firstname":{"type":"string","format":"nullable"},"surname":{"type":"string","format":"nullable"},"title":{"type":"string","format":"nullable"},"initials":{"type":"string","format":"nullable"},"phone1":{"type":"string","format":"nullable"},"phone2":{"type":"string","format":"nullable"},"phone3":{"type":"string","format":"nullable"},"homephone":{"type":"string","format":"nullable"},"cell":{"type":"string","format":"nullable"},"fax":{"type":"string","format":"nullable"},"email":{"type":"string","format":"nullable"},"ext":{"type":"string","format":"nullable"},"department":{"type":"string","format":"nullable"},"spouse":{"type":"string","format":"nullable"},"assttitle":{"type":"string","format":"nullable"},"asstname":{"type":"string","format":"nullable"},"asstphone":{"type":"string","format":"nullable"},"asstext":{"type":"string","format":"nullable"},"hobbies":{"type":"string","format":"nullable"},"notes":{"type":"string","format":"nullable"},"address1":{"type":"string","format":"nullable"},"address2":{"type":"string","format":"nullable"},"address3":{"type":"string","format":"nullable"},"city":{"type":"string","format":"nullable"},"state":{"type":"string","format":"nullable"},"code":{"type":"string","format":"nullable"},"region":{"type":"string","format":"nullable"},"country":{"type":"string","format":"nullable"},"poaddress1":{"type":"string","format":"nullable"},"poaddress2":{"type":"string","format":"nullable"},"poaddress3":{"type":"string","format":"nullable"},"pocity":{"type":"string","format":"nullable"},"postate":{"type":"string","format":"nullable"},"pocode":{"type":"string","format":"nullable"},"poregion":{"type":"string","format":"nullable"},"pocountry":{"type":"string","format":"nullable"},"birthdate":{"type":"string","format":"nullable"},"path":{"type":"string","format":"nullable"},"province":{"type":"string","format":"nullable"},"issupplier":{"type":"string","format":"nullable"},"sendemail":{"type":"string","format":"nullable"},"sendsms":{"type":"string","format":"nullable"},"dateupdated":{"type":"string","format":"nullable"},"accountnum":{"type":"string","format":"nullable"},"entityhtype":{"type":"string","format":"nullable"},"dateadded":{"type":"string","format":"nullable"},"datemodified":{"type":"string","format":"nullable"},"outlookid":{"type":"string","format":"nullable"},"owninguserid":{"type":"string","format":"nullable"},"tempid":{"type":"string","format":"nullable"},"position":{"type":"string","format":"nullable"},"asstemail":{"type":"string","format":"nullable"},"sendpost":{"type":"string","format":"nullable"},"dissacosiate":{"type":"string","format":"nullable"},"modifiedby":{"type":"string","format":"nullable"},"birthdaysupplierid":{"type":"string","format":"nullable"},"birthdaycourierid":{"type":"string","format":"nullable"},"jobtitle":{"type":"string","format":"nullable"},"anniversarysupplierid":{"type":"string","format":"nullable"},"anniversarycourierid":{"type":"string","format":"nullable"},"anniversarydate":{"type":"string","format":"nullable"},"accounttypeid":{"type":"string","format":"nullable"},"accountref":{"type":"string","format":"nullable"},"idnumber":{"type":"string","format":"nullable"},"bankname":{"type":"string","format":"nullable"},"accountno":{"type":"string","format":"nullable"},"accountname":{"type":"string","format":"nullable"},"bankaccountname":{"type":"string","format":"nullable"},"branchcode":{"type":"string","format":"nullable"},"acctypeid":{"type":"string","format":"nullable"},"emailref":{"type":"string","format":"nullable"},"creditcardname":{"type":"string","format":"nullable"},"creditcardnumber":{"type":"string","format":"nullable"},"expirydate":{"type":"string","format":"nullable"},"cardtypeid":{"type":"string","format":"nullable"},"iscreditcard":{"type":"string","format":"nullable"},"inuse":{"type":"string","format":"nullable"},"expmonth":{"type":"string","format":"nullable"},"expyear":{"type":"string","format":"nullable"},"agentref":{"type":"string","format":"nullable"},"agnetid":{"type":"string","format":"nullable"},"press":{"type":"string","format":"nullable"},"projcust":{"type":"string","format":"nullable"},"completed":{"type":"string","format":"nullable"},"departmentid":{"type":"string","format":"nullable"},"industryid":{"type":"string","format":"nullable"},"entitysubtypeid":{"type":"string","format":"nullable"},"usecompaddr":{"type":"string","format":"nullable"},"additional1":{"type":"string","format":"nullable"},"additional2":{"type":"string","format":"nullable"},"additional3":{"type":"string","format":"nullable"},"additional4":{"type":"string","format":"nullable"},"additionalid5":{"type":"string","format":"nullable"},"additionalid6":{"type":"string","format":"nullable"},"additionalid7":{"type":"string","format":"nullable"},"additionalid8":{"type":"string","format":"nullable"},"inactive":{"type":"string","format":"nullable"},"screenshotpath":{"type":"string","format":"nullable"},"defaultfrequency":{"type":"string","format":"nullable"},"openinghours":{"type":"string","format":"nullable"},"matrixuserid":{"type":"string","format":"nullable"},"gpslocation":{"type":"string","format":"nullable"},"matrixvalue":{"type":"string","format":"nullable"},"nkaddrid":{"type":"string","format":"nullable"},"maritalstatus":{"type":"string","format":"nullable"},"gender":{"type":"string","format":"nullable"},"ethnicity":{"type":"string","format":"nullable"},"citizenship":{"type":"string","format":"nullable"},"multinational":{"type":"string","format":"nullable"},"propertyowner":{"type":"string","format":"nullable"}}},"EntityTypes":{"type":"object","properties":{"id":{"type":"number","format":"int32"},"name":{"type":"string","format":"nullable"}}},"RiskAssessment":{"type":"object","properties":{"assessmentid":{"type":"number","format":"int32"},"entityid":{"type":"string","format":"nullable"},"entitycontactid":{"type":"string","format":"nullable"},"datecreated":{"type":"string","format":"nullable"},"hometel":{"type":"string","format":"nullable"},"worktel":{"type":"string","format":"nullable"},"celltel":{"type":"string","format":"nullable"},"email":{"type":"string","format":"nullable"},"entityaddressid":{"type":"string","format":"nullable"},"notes":{"type":"string","format":"nullable"},"domvalbrokerid":{"type":"string","format":"nullable"},"domvalcontactid":{"type":"string","format":"nullable"},"domvalpolicynumber":{"type":"string","format":"nullable"},"domvalinsurerid":{"type":"string","format":"nullable"},"domvalincontactid":{"type":"string","format":"nullable"},"domvaladdressid":{"type":"string","format":"nullable"},"domvalnotes":{"type":"string","format":"nullable"},"vehbrokerid":{"type":"string","format":"nullable"},"vehbcontactid":{"type":"string","format":"nullable"},"vehpolicynumber":{"type":"string","format":"nullable"},"vehinsurerid":{"type":"string","format":"nullable"},"vehicontactid":{"type":"string","format":"nullable"},"vehaddressid":{"type":"string","format":"nullable"},"vehnotes":{"type":"string","format":"nullable"},"createdby":{"type":"string","format":"nullable"},"createddate":{"type":"string","format":"nullable"},"assesmentno":{"type":"string","format":"nullable"},"nextnum":{"type":"string","format":"nullable"},"datemodified":{"type":"string","format":"nullable"},"orderid":{"type":"string","format":"nullable"},"iscomplete":{"type":"string","format":"nullable"},"statusid":{"type":"string","format":"nullable"}}},"RiskAssessmentItem":{"type":"object","properties":{"riskassessmentitemid":{"type":"integer","format":"int64"},"riskassessmentcategoryid":{"type":"integer","format":"int64","nullable":true},"itemprompt":{"type":"string","nullable":true},"itemtype":{"type":"integer","nullable":true},"rank":{"type":"integer","nullable":true},"commaseparatedlist":{"type":"string","nullable":true},"selectedanswer":{"type":"string","nullable":true},"qty":{"type":"number","nullable":true},"price":{"type":"number","nullable":true},"description":{"type":"string","nullable":true},"model":{"type":"string","nullable":true},"location":{"type":"string","nullable":true},"assessmentregisterid":{"type":"integer","nullable":true},"assessmentregistertypeid":{"type":"integer","nullable":true},"datecreated":{"type":"string","format":"date-time","nullable":true},"createdbyid":{"type":"string","nullable":true},"dateupdated":{"type":"string","format":"date-time","nullable":true},"updatedbyid":{"type":"string","nullable":true},"issynced":{"type":"boolean"},"syncversion":{"type":"integer"},"deviceid":{"type":"string","nullable":true},"syncstatus":{"type":"string","nullable":true},"synctimestamp":{"type":"string","format":"date-time","nullable":true},"hasphoto":{"type":"boolean"},"latitude":{"type":"number","format":"float","nullable":true},"longitude":{"type":"number","format":"float","nullable":true},"notes":{"type":"string","nullable":true}}},"RiskAssessmentSection":{"type":"object","properties":{"riskassessmentsectionid":{"type":"number","format":"int32"},"riskassessmentid":{"type":"string","format":"nullable"},"sectionname":{"type":"string","format":"nullable"},"rank":{"type":"string","format":"nullable"}}},"RiskAssessmentCategory":{"type":"object","properties":{"riskassessmentcategoryid":{"type":"integer","format":"int32","description":"Unique identifier for the risk assessment category"},"riskassessmentsectionid":{"type":"integer","format":"nullable","nullable":true,"description":"ID of the related risk assessment section"},"categoryname":{"type":"string","format":"nullable","maxLength":500,"nullable":true,"description":"Name of the category"},"rank":{"type":"integer","format":"nullable","nullable":true,"description":"Display order rank for the category"}},"required":["riskassessmentcategoryid"],"example":{"riskassessmentcategoryid":1,"riskassessmentsectionid":101,"categoryname":"Security Measures","rank":1}},"RiskAssessmentMaster":{"type":"object","properties":{"riskassessmentid":{"type":"integer","format":"int32","description":"Unique identifier for the risk assessment"},"assessmentid":{"type":"integer","format":"nullable","nullable":true},"assessmenttypeid":{"type":"integer","format":"nullable","nullable":true},"assessmenttypename":{"type":"string","format":"nullable","nullable":true},"surveyorid":{"type":"integer","format":"nullable","nullable":true},"surveydate":{"type":"string","format":"date-time","nullable":true},"surveryreasonid":{"type":"integer","format":"nullable","nullable":true},"consultantid":{"type":"integer","format":"nullable","nullable":true},"insurerid":{"type":"integer","format":"nullable","nullable":true},"brokerid":{"type":"integer","format":"nullable","nullable":true},"statusid":{"type":"integer","format":"nullable","nullable":true},"clientnumber":{"type":"string","format":"nullable","nullable":true},"datereceived":{"type":"string","format":"date-time","nullable":true},"datesent":{"type":"string","format":"date-time","nullable":true},"comments":{"type":"string","format":"nullable","nullable":true},"riskaddressid":{"type":"integer","format":"nullable","nullable":true},"postaladdressid":{"type":"integer","format":"nullable","nullable":true},"totalvalue":{"type":"number","format":"nullable","nullable":true},"billtemplateid":{"type":"integer","format":"nullable","nullable":true},"invoicedocid":{"type":"integer","format":"nullable","nullable":true},"replacementsurveyorid":{"type":"integer","format":"nullable","nullable":true},"haveclientdocs":{"type":"boolean","format":"nullable","nullable":true},"requestedby":{"type":"string","format":"nullable","nullable":true},"lastupdated":{"type":"string","format":"date-time","nullable":true},"orderid":{"type":"integer","format":"nullable","nullable":true},"iscomplete":{"type":"boolean","format":"nullable","nullable":true},"outofradius":{"type":"string","format":"nullable","nullable":true},"totalmileage":{"type":"string","format":"nullable","nullable":true},"assessmentnoid":{"type":"integer","format":"nullable","nullable":true},"issent":{"type":"boolean","format":"nullable","nullable":true},"negotiatedamount":{"type":"number","format":"nullable","nullable":true},"adminfee":{"type":"number","format":"nullable","nullable":true},"basefee":{"type":"number","format":"nullable","nullable":true},"negotiatedbasefee":{"type":"number","format":"nullable","nullable":true},"negotiatedadminfee":{"type":"number","format":"nullable","nullable":true},"signature":{"type":"string","format":"byte","description":"Base64 encoded image data","nullable":true}},"example":{"riskassessmentid":1,"assessmenttypename":"Property Risk Assessment","surveydate":"2023-06-15T10:00:00Z","clientnumber":"CLT-12345","comments":"Standard residential risk assessment","totalvalue":1200,"iscomplete":true}},"RiskDomesticAdditional":{"type":"object","properties":{"additionid":{"type":"number","format":"int32"},"lineid":{"type":"string","format":"nullable"},"description":{"type":"string","format":"nullable"}}},"RiskSurveyor":{"type":"object","properties":{"risksurveyorid":{"type":"number","format":"int32"},"entityid":{"type":"string","format":"nullable"},"entitycontactid":{"type":"string","format":"nullable"},"appointmenttime":{"type":"string","format":"nullable"},"youontime":{"type":"string","format":"nullable"},"clientontime":{"type":"string","format":"nullable"},"surveywhom":{"type":"string","format":"nullable"},"cooperative":{"type":"string","format":"nullable"},"coopreason":{"type":"string","format":"nullable"},"homemaintenance":{"type":"string","format":"nullable"},"comments":{"type":"string","format":"nullable"},"commentsdetails":{"type":"string","format":"nullable"},"impression":{"type":"string","format":"nullable"},"surveyorid":{"type":"string","format":"nullable"},"supervisorid":{"type":"string","format":"nullable"},"kmtravelled":{"type":"string","format":"nullable"},"isdebitorder":{"type":"string","format":"nullable"},"actions":{"type":"string","format":"nullable"},"createdby":{"type":"string","format":"nullable"},"modifiedby":{"type":"string","format":"nullable"},"datecreated":{"type":"string","format":"nullable"},"datemodified":{"type":"string","format":"nullable"}}},"RiskTemplate":{"type":"object","properties":{"risktemplateid":{"type":"number","format":"int32"},"templatename":{"type":"string","format":"nullable"},"prefix":{"type":"string","format":"nullable"}}},"RiskTemplateItem":{"type":"object","properties":{"risktemplateitemid":{"type":"number","format":"int32"},"risktemplatecategoryid":{"type":"string","format":"nullable"},"itemprompt":{"type":"string","format":"nullable"},"itemtype":{"type":"string","format":"nullable"},"rank":{"type":"string","format":"nullable"},"commaseparatedlist":{"type":"string","format":"nullable"},"assessmentregistertypeid":{"type":"string","format":"nullable"}}},"RiskTemplateSection":{"type":"object","properties":{"risktemplatesectionid":{"type":"number","format":"int32"},"risktemplateid":{"type":"string","format":"nullable"},"sectionname":{"type":"string","format":"nullable"},"rank":{"type":"string","format":"nullable"}}},"RiskTemplateCategory":{"type":"object","properties":{"risktemplatecategoryid":{"type":"number","format":"int32"},"risktemplatesectionid":{"type":"string","format":"nullable"},"categoryname":{"type":"string","format":"nullable"},"rank":{"type":"string","format":"nullable"}}},"Appointment":{"type":"object","properties":{"appointmentID":{"type":"integer","format":"nullable","description":"Unique identifier for the appointment"},"orderID":{"type":"integer","format":"nullable","description":"Associated order ID"},"startTime":{"type":"string","format":"date-time","description":"Start time of the appointment"},"endTime":{"type":"string","format":"date-time","description":"End time of the appointment"},"followUpDate":{"type":"string","format":"date-time","description":"Follow-up date for the appointment"},"arrivalTime":{"type":"string","format":"date-time","description":"Time of arrival"},"departureTime":{"type":"string","format":"date-time","description":"Time of departure"},"inviteStatus":{"type":"string","format":"nullable","description":"Status of the invitation"},"meetingStatus":{"type":"string","format":"nullable","description":"Status of the meeting"},"location":{"type":"string","format":"nullable","description":"Location of the appointment"},"comments":{"type":"string","format":"nullable","description":"General comments"},"category":{"type":"string","format":"nullable","description":"Category of the appointment"},"outoftown":{"type":"string","format":"nullable","description":"Whether appointment is out of town"},"surveyorComments":{"type":"string","format":"nullable","description":"Comments from the surveyor"},"eventId":{"type":"string","format":"nullable","description":"Calendar event ID"},"surveyorEmail":{"type":"string","format":"nullable","description":"Email of the assigned surveyor"},"dateModified":{"type":"string","format":"date-time","description":"Date when the appointment was last modified"},"orderStatus":{"type":"string","format":"nullable"},"policy":{"type":"string","format":"nullable"},"clientsName":{"type":"string","format":"nullable"},"clientID":{"type":"string","format":"nullable"},"client":{"type":"string","format":"nullable"},"title":{"type":"string","format":"nullable"},"titleID":{"type":"string","format":"nullable"},"cell":{"type":"string","format":"nullable"},"phoneNo":{"type":"string","format":"nullable"},"email":{"type":"string","format":"nullable"},"initials":{"type":"string","format":"nullable"},"requestedBy":{"type":"string","format":"nullable"},"surveyor":{"type":"string","format":"nullable"},"poNo":{"type":"string","format":"nullable"},"poNo2":{"type":"string","format":"nullable"},"capturedBy":{"type":"string","format":"nullable"},"sumInsured":{"type":"string","format":"nullable"},"requestedBy2":{"type":"string","format":"nullable"},"fullAddress":{"type":"string","format":"nullable"},"region":{"type":"string","format":"nullable"},"city":{"type":"string","format":"nullable"},"surveyorID":{"type":"string","format":"nullable"},"orderdate":{"type":"string","format":"nullable"},"dateModified2":{"type":"string","format":"nullable"},"dateAdded":{"type":"string","format":"nullable"},"dateCompleted":{"type":"string","format":"nullable"},"insurer":{"type":"string","format":"nullable"},"broker":{"type":"string","format":"nullable"},"month":{"type":"string","format":"nullable"},"year":{"type":"string","format":"nullable"}}},"LoginRequest":{"type":"object","required":["username"],"properties":{"username":{"type":"string","description":"Username or user ID for authentication","example":"internal-admin123"},"password":{"type":"string","description":"User password","example":"password"},"mockUser":{"type":"boolean","description":"Set to true for mock authentication (development only)","example":true,"default":false}}},"LoginResponse":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the login was successful"},"token":{"type":"string","description":"JWT access token for API authentication"},"user":{"$ref":"#/components/schemas/UserInfo"},"expiresIn":{"type":"string","description":"Token expiration time","example":"24h"}}},"UserInfo":{"type":"object","properties":{"userId":{"type":"string","description":"Unique user identifier"},"userType":{"type":"string","enum":["Internal","External"],"description":"Type of user account"},"roles":{"type":"array","items":{"type":"string"},"description":"User roles for authorization"},"groups":{"type":"array","items":{"type":"string"},"description":"User groups for authorization"},"entityMappings":{"type":"array","items":{"$ref":"#/components/schemas/UserEntityMapping"},"description":"Entity access mappings for external users"}}},"UserEntityMapping":{"type":"object","properties":{"MappingID":{"type":"integer","description":"Unique mapping identifier"},"AzureADUserID":{"type":"string","description":"Azure AD user identifier"},"EntityType":{"type":"string","enum":["Client","Broker","Insurer"],"description":"Type of entity the user has access to"},"EntityID":{"type":"string","description":"Identifier of the specific entity"},"IsActive":{"type":"boolean","description":"Whether this mapping is currently active"},"CreatedAt":{"type":"string","format":"date-time","description":"When this mapping was created"}}},"ErrorResponse":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message"},"code":{"type":"string","description":"Error code for programmatic handling"}}},"MobileRiskAssessmentHierarchy":{"type":"object","properties":{"orderNumber":{"type":"string","description":"Order number/policy number"},"assessmentMasters":{"type":"array","items":{"$ref":"#/components/schemas/MobileAssessmentMaster"}},"summary":{"$ref":"#/components/schemas/MobileAssessmentSummary"},"cacheInfo":{"$ref":"#/components/schemas/MobileCacheInfo"}}},"MobileAssessmentMaster":{"type":"object","properties":{"riskAssessmentId":{"type":"integer","description":"Risk assessment ID"},"assessmentTypeName":{"type":"string","description":"Type of assessment"},"templateName":{"type":"string","description":"Template name"},"status":{"type":"string","description":"Assessment status"},"sections":{"type":"array","items":{"$ref":"#/components/schemas/MobileAssessmentSection"}},"totalItems":{"type":"integer","description":"Total number of items"},"totalSections":{"type":"integer","description":"Total number of sections"},"totalCategories":{"type":"integer","description":"Total number of categories"},"assessmentTotalValue":{"type":"number","description":"Total assessment value"}}},"MobileAssessmentSection":{"type":"object","properties":{"riskAssessmentSectionId":{"type":"integer","description":"Section ID"},"sectionName":{"type":"string","description":"Section name"},"sectionOrder":{"type":"integer","description":"Section order"},"categories":{"type":"array","items":{"$ref":"#/components/schemas/MobileAssessmentCategory"}},"categoryCount":{"type":"integer","description":"Number of categories"},"sectionTotalValue":{"type":"number","description":"Section total value"}}},"MobileAssessmentCategory":{"type":"object","properties":{"riskAssessmentCategoryId":{"type":"integer","description":"Category ID"},"categoryName":{"type":"string","description":"Category name"},"categoryOrder":{"type":"integer","description":"Category order"},"items":{"type":"array","items":{"$ref":"#/components/schemas/MobileAssessmentItem"}},"itemCount":{"type":"integer","description":"Number of items"},"totalValue":{"type":"number","description":"Category total value"}}},"MobileAssessmentItem":{"type":"object","properties":{"riskAssessmentItemId":{"type":"integer","description":"Item ID"},"itemPrompt":{"type":"string","description":"Item prompt/question"},"itemType":{"type":"integer","description":"Type of item"},"rank":{"type":"integer","description":"Item rank/order"},"commaSeperatedList":{"type":"string","description":"Comma separated list of options"},"selectedAnswer":{"type":"string","description":"Selected answer"},"qty":{"type":"number","description":"Quantity"},"price":{"type":"number","description":"Price per item"},"description":{"type":"string","description":"Item description"},"model":{"type":"string","description":"Item model"},"location":{"type":"string","description":"Item location"},"assessmentRegisterId":{"type":"integer","description":"Assessment register ID"},"assessmentRegisterTypeId":{"type":"integer","description":"Assessment register type ID"},"isActive":{"type":"boolean","description":"Whether item is active"}}},"MobileAssessmentSummary":{"type":"object","properties":{"totalAssessments":{"type":"integer","description":"Total number of assessments"},"totalItems":{"type":"integer","description":"Total number of items"},"overallTotalValue":{"type":"number","description":"Overall total value"},"lastModified":{"type":"string","format":"date-time","description":"Last modification date"}}},"MobileCacheInfo":{"type":"object","properties":{"cacheable":{"type":"boolean","description":"Whether response is cacheable"},"cacheKey":{"type":"string","description":"Cache key for client-side caching"},"expiresIn":{"type":"integer","description":"Cache expiration time in seconds"}}},"MobileSurveySummary":{"type":"object","properties":{"surveyId":{"type":"string","description":"Survey identifier"},"orderNumber":{"type":"string","description":"Order number"},"appointmentData":{"$ref":"#/components/schemas/MobileAppointmentData"},"assessmentSummaries":{"type":"array","items":{"$ref":"#/components/schemas/MobileSurveyAssessmentSummary"}},"overallSummary":{"$ref":"#/components/schemas/MobileSurveyOverallSummary"},"submissionStatus":{"$ref":"#/components/schemas/MobileSubmissionStatus"}}},"MobileAppointmentData":{"type":"object","properties":{"appointmentId":{"type":"string","description":"Appointment ID"},"client":{"type":"string","description":"Client name"},"address":{"type":"string","description":"Property address"},"date":{"type":"string","format":"date","description":"Appointment date"},"policyNo":{"type":"string","description":"Policy number"},"sumInsured":{"type":"string","description":"Sum insured"},"broker":{"type":"string","description":"Broker name"}}},"MobileSurveyAssessmentSummary":{"type":"object","properties":{"assessmentTypeName":{"type":"string","description":"Assessment type"},"sections":{"type":"array","items":{"$ref":"#/components/schemas/MobileSurveySectionSummary"}},"assessmentItemCount":{"type":"integer","description":"Total items in assessment"},"assessmentTotalValue":{"type":"number","description":"Total assessment value"},"assessmentCompletionPercentage":{"type":"integer","description":"Assessment completion percentage"}}},"MobileSurveySectionSummary":{"type":"object","properties":{"sectionName":{"type":"string","description":"Section name"},"categories":{"type":"array","items":{"$ref":"#/components/schemas/MobileSurveyCategorySummary"}},"sectionItemCount":{"type":"integer","description":"Items in section"},"sectionTotalValue":{"type":"number","description":"Section total value"},"sectionCompletionPercentage":{"type":"integer","description":"Section completion percentage"}}},"MobileSurveyCategorySummary":{"type":"object","properties":{"categoryName":{"type":"string","description":"Category name"},"itemCount":{"type":"integer","description":"Items in category"},"totalValue":{"type":"number","description":"Category total value"},"items":{"type":"array","items":{"$ref":"#/components/schemas/MobileSurveyItem"},"description":"Detailed items in category"}}},"MobileSurveyItem":{"type":"object","properties":{"riskAssessmentItemId":{"type":"integer","description":"Risk assessment item ID"},"itemPrompt":{"type":"string","description":"Item prompt/question"},"description":{"type":"string","description":"Item description"},"model":{"type":"string","description":"Item model"},"location":{"type":"string","description":"Item location"},"notes":{"type":"string","description":"Item notes"},"price":{"type":"number","description":"Item price"},"qty":{"type":"number","description":"Item quantity"},"itemValue":{"type":"number","description":"Total item value (price * qty)"}}},"MobileSurveyOverallSummary":{"type":"object","properties":{"totalItems":{"type":"integer","description":"Total items in survey"},"totalValue":{"type":"number","description":"Total survey value"},"lastActivity":{"type":"string","format":"date-time","description":"Last activity timestamp"}}},"MobileSubmissionStatus":{"type":"object","properties":{"canSubmit":{"type":"boolean","description":"Whether survey can be submitted"},"requiredCompletionPercentage":{"type":"integer","description":"Required completion percentage"},"missingRequiredFields":{"type":"array","items":{"type":"string"},"description":"List of missing required fields"},"warnings":{"type":"array","items":{"type":"string"},"description":"List of warnings"}}},"MobileAppointmentCompleteData":{"type":"object","properties":{"appointmentId":{"type":"string","description":"Appointment ID"},"orderData":{"$ref":"#/components/schemas/MobileOrderData"},"clientData":{"$ref":"#/components/schemas/MobileClientData"},"brokerData":{"$ref":"#/components/schemas/MobileBrokerData"},"appointmentDetails":{"$ref":"#/components/schemas/MobileAppointmentDetails"},"surveyorData":{"$ref":"#/components/schemas/MobileSurveyorData"},"propertyData":{"$ref":"#/components/schemas/MobilePropertyData"},"insuranceData":{"$ref":"#/components/schemas/MobileInsuranceData"},"assessmentConfig":{"$ref":"#/components/schemas/MobileAssessmentConfig"},"mobileOptimization":{"$ref":"#/components/schemas/MobileOptimizationInfo"}}},"MobileOrderData":{"type":"object","properties":{"orderId":{"type":"integer","description":"Order ID"},"orderNumber":{"type":"string","description":"Order number"},"policyNumber":{"type":"string","description":"Policy number"},"claimNumber":{"type":"string","description":"Claim number"},"dateCreated":{"type":"string","format":"date-time","description":"Order creation date"},"status":{"type":"string","description":"Order status"}}},"MobileClientData":{"type":"object","properties":{"clientId":{"type":"integer","description":"Client ID"},"clientName":{"type":"string","description":"Client name"},"contactNumber":{"type":"string","description":"Contact number"},"emailAddress":{"type":"string","description":"Email address"},"address":{"$ref":"#/components/schemas/MobileAddress"}}},"MobileAddress":{"type":"object","properties":{"line1":{"type":"string","description":"Address line 1"},"line2":{"type":"string","description":"Address line 2"},"line3":{"type":"string","description":"Address line 3"},"postcode":{"type":"string","description":"Postal code"},"fullAddress":{"type":"string","description":"Complete formatted address"}}},"MobileBrokerData":{"type":"object","properties":{"brokerId":{"type":"integer","description":"Broker ID"},"brokerName":{"type":"string","description":"Broker name"},"contactPerson":{"type":"string","description":"Contact person"},"contactNumber":{"type":"string","description":"Contact number"},"emailAddress":{"type":"string","description":"Email address"}}},"MobileAppointmentDetails":{"type":"object","properties":{"appointmentDate":{"type":"string","format":"date","description":"Appointment date"},"appointmentTime":{"type":"string","description":"Appointment time (HH:MM)"},"duration":{"type":"integer","description":"Duration in minutes"},"status":{"type":"string","description":"Appointment status"},"appointmentType":{"type":"string","description":"Type of appointment"},"notes":{"type":"string","description":"Appointment notes"},"specialInstructions":{"type":"string","description":"Special instructions"}}},"MobileSurveyorData":{"type":"object","properties":{"surveyorId":{"type":"integer","description":"Surveyor ID"},"surveyorName":{"type":"string","description":"Surveyor name"},"contactNumber":{"type":"string","description":"Contact number"},"emailAddress":{"type":"string","description":"Email address"},"qualifications":{"type":"array","items":{"type":"string"},"description":"Surveyor qualifications"}}},"MobilePropertyData":{"type":"object","properties":{"propertyType":{"type":"string","description":"Property type"},"buildingYear":{"type":"integer","description":"Building year"},"numberOfRooms":{"type":"integer","description":"Number of rooms"},"totalFloorArea":{"type":"number","description":"Total floor area"},"constructionType":{"type":"string","description":"Construction type"},"roofType":{"type":"string","description":"Roof type"},"wallType":{"type":"string","description":"Wall type"},"accessNotes":{"type":"string","description":"Access notes"}}},"MobileInsuranceData":{"type":"object","properties":{"insurerId":{"type":"integer","description":"Insurer ID"},"insurerName":{"type":"string","description":"Insurer name"},"policyType":{"type":"string","description":"Policy type"},"coverageType":{"type":"string","description":"Coverage type"},"sumInsured":{"type":"number","description":"Sum insured"},"excess":{"type":"number","description":"Policy excess"},"policyStartDate":{"type":"string","format":"date","description":"Policy start date"},"policyEndDate":{"type":"string","format":"date","description":"Policy end date"}}},"MobileAssessmentConfig":{"type":"object","properties":{"assessmentTypes":{"type":"array","items":{"type":"string"},"description":"Types of assessments required"},"requiredSections":{"type":"array","items":{"type":"string"},"description":"Required sections"},"estimatedDuration":{"type":"integer","description":"Estimated duration in minutes"},"complexityLevel":{"type":"string","enum":["Low","Medium","High"],"description":"Assessment complexity level"}}},"MobileOptimizationInfo":{"type":"object","properties":{"cacheKey":{"type":"string","description":"Cache key for client-side caching"},"lastUpdated":{"type":"string","format":"date-time","description":"Last update timestamp"},"dataVersion":{"type":"string","description":"Data version"},"offlineCapable":{"type":"boolean","description":"Whether data supports offline usage"}}},"AppointmentListViewResponse":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"AppointmentID":{"type":"integer"},"OrderID":{"type":"integer"},"Start_Time":{"type":"string","format":"date-time"},"End_Time":{"type":"string","format":"date-time"},"Follow_Up_Date":{"type":"string","format":"date-time"},"Arrival_Time":{"type":"string","format":"date-time"},"Departure_Time":{"type":"string","format":"date-time"},"Invite_Status":{"type":"string"},"Meeting_Status":{"type":"string"},"Location":{"type":"string"},"Comments":{"type":"string"},"Category":{"type":"string"},"Outoftown":{"type":"string"},"surveyor_comments":{"type":"string"},"event_id":{"type":"string"},"surveyoremail":{"type":"string"},"date_modified":{"type":"string","format":"date-time"},"Order Status":{"type":"string"},"Policy":{"type":"string"},"ClientsName":{"type":"string"},"ClientID":{"type":"integer"},"Client":{"type":"string"},"Title":{"type":"string"},"TitleID":{"type":"integer"},"Cell":{"type":"string"},"PhoneNo":{"type":"string"},"Email":{"type":"string"},"Initials":{"type":"string"},"Requested By":{"type":"string"},"Surveyor":{"type":"string"},"PO No":{"type":"string"},"PO No 2":{"type":"string"},"CapturedBy":{"type":"string"},"Sum Insured":{"type":"number"},"RequestedBy":{"type":"string"},"FullAddress":{"type":"string"},"Region":{"type":"string"},"City":{"type":"string"},"SurveyorID":{"type":"integer"},"Orderdate":{"type":"string","format":"date-time"},"DateModified":{"type":"string","format":"date-time"},"DateAdded":{"type":"string","format":"date-time"},"DateCompleted":{"type":"string","format":"date-time"},"Insurer":{"type":"string"},"Broker":{"type":"string"},"Month":{"type":"string"},"Year":{"type":"integer"}}}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}},"RiskAssessmentCategoryTypeField":{"type":"object","required":["riskAssessmentCategoryID","item_fields","display_on_ui"],"properties":{"riskassessmentfieldid":{"type":"integer","format":"int64","description":"Unique identifier for the risk assessment field","readOnly":true},"riskAssessmentCategoryID":{"type":"integer","description":"ID of the associated risk assessment category"},"item_fields":{"type":"string","maxLength":255,"description":"Item fields definition"},"field_label":{"type":"string","maxLength":100,"description":"Label for the field"},"display_on_ui":{"type":"integer","description":"Whether to display this field on the UI (0 = false, 1 = true)"}},"example":{"riskassessmentfieldid":1,"riskAssessmentCategoryID":101,"item_fields":"property_type","field_label":"Property Type","display_on_ui":1}},"RiskTemplateCategoryTypeField":{"type":"object","required":["riskTemplateCategoryID","item_fields","display_on_ui"],"properties":{"riskfieldid":{"type":"integer","format":"int64","description":"Unique identifier for the risk field","readOnly":true},"riskTemplateCategoryID":{"type":"integer","description":"ID of the associated risk template category"},"item_fields":{"type":"string","maxLength":255,"description":"Item fields definition"},"field_label":{"type":"string","maxLength":100,"description":"Label for the field"},"display_on_ui":{"type":"integer","description":"Whether to display this field on the UI (0 = false, 1 = true)"}},"example":{"riskfieldid":1,"riskTemplateCategoryID":101,"item_fields":"property_type","field_label":"Property Type","display_on_ui":1}},"SyncRequest":{"type":"object","required":["deviceId","userId","lastSyncTimestamp"],"properties":{"deviceId":{"type":"string","description":"Unique identifier for the device"},"userId":{"type":"string","description":"ID of the user performing sync"},"lastSyncTimestamp":{"type":"string","format":"date-time","description":"Timestamp of last successful sync"},"entities":{"type":"array","items":{"type":"string"},"description":"List of entity types to sync (appointments, riskAssessmentMasters, riskAssessmentItems)"}}},"BatchSyncRequest":{"type":"object","required":["deviceId","userId"],"properties":{"deviceId":{"type":"string","description":"Unique identifier for the device"},"userId":{"type":"string","description":"ID of the user performing sync"},"appointments":{"type":"array","items":{"$ref":"#/components/schemas/Appointment"}},"riskAssessmentMasters":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}},"riskAssessmentItems":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentItem"}},"deletedEntities":{"type":"array","items":{"type":"object","properties":{"entityName":{"type":"string"},"entityId":{"type":"integer"}}}}}},"MediaUploadRequest":{"type":"object","required":["entityName","entityId","fileType"],"properties":{"entityName":{"type":"string","description":"Type of entity (appointment, riskAssessmentMaster, riskAssessmentItem)"},"entityId":{"type":"integer","description":"ID of the entity"},"fileType":{"type":"string","enum":["photo","signature","document"],"description":"Type of media file"},"metadata":{"type":"object","description":"Additional metadata for the file"}}}}},"paths":{"/api/appointments/stats":{"get":{"summary":"Get appointment statistics","tags":["Appointments"],"description":"Get counts of appointments by invite status and meeting status","responses":{"200":{"description":"Appointment statistics","content":{"application/json":{"schema":{"type":"object","properties":{"byInviteStatus":{"type":"object","additionalProperties":{"type":"integer"},"example":{"Pending":10,"Accepted":20,"Declined":5}},"byMeetingStatus":{"type":"object","additionalProperties":{"type":"integer"},"example":{"Pending":15,"Completed":10,"Cancelled":10}},"total":{"type":"integer","example":35}}}}}},"500":{"description":"Server error"}}}},"/api/appointments/list-view":{"get":{"summary":"Get appointment data from v_appointment_view with filtering via query parameters","tags":["Appointments"],"description":"Retrieve appointment data with associated order information from the database view with filtering options","parameters":[{"in":"query","name":"inviteStatus","schema":{"type":"string"},"description":"Filter by invitation status"},{"in":"query","name":"orderId","schema":{"type":"integer"},"description":"Filter by order ID"},{"in":"query","name":"clientsName","schema":{"type":"string"},"description":"Filter by client name (partial match)"},{"in":"query","name":"location","schema":{"type":"string"},"description":"Filter by location (partial match)"},{"in":"query","name":"surveyor","schema":{"type":"string"},"description":"Filter by surveyor name (partial match)"},{"in":"query","name":"client","schema":{"type":"string"},"description":"Filter by client (partial match)"},{"in":"query","name":"title","schema":{"type":"string"},"description":"Filter by title (partial match)"},{"in":"query","name":"email","schema":{"type":"string"},"description":"Filter by email (partial match)"},{"in":"query","name":"phoneNo","schema":{"type":"string"},"description":"Filter by phone number (partial match)"},{"in":"query","name":"cell","schema":{"type":"string"},"description":"Filter by cell number (partial match)"},{"in":"query","name":"region","schema":{"type":"string"},"description":"Filter by region (partial match)"},{"in":"query","name":"city","schema":{"type":"string"},"description":"Filter by city (partial match)"},{"in":"query","name":"orderStatus","schema":{"type":"string"},"description":"Filter by order status"},{"in":"query","name":"startDateFrom","schema":{"type":"string","format":"date-time"},"description":"Filter appointments with start date after this date"},{"in":"query","name":"startDateTo","schema":{"type":"string","format":"date-time"},"description":"Filter appointments with start date before this date"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"Paginated appointment list view data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentListViewResponse"}}}},"500":{"description":"Server error"}}},"post":{"summary":"Get appointment data from v_appointment_view with filtering via request body","tags":["Appointments"],"description":"Retrieve appointment data with associated order information from the database view with filtering options in request body","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"inviteStatus":{"type":"string","description":"Filter by invitation status"},"orderId":{"type":"integer","description":"Filter by order ID"},"clientsName":{"type":"string","description":"Filter by client name (partial match)"},"location":{"type":"string","description":"Filter by location (partial match)"},"surveyor":{"type":"string","description":"Filter by surveyor name (partial match)"},"client":{"type":"string","description":"Filter by client (partial match)"},"title":{"type":"string","description":"Filter by title (partial match)"},"email":{"type":"string","description":"Filter by email (partial match)"},"phoneNo":{"type":"string","description":"Filter by phone number (partial match)"},"cell":{"type":"string","description":"Filter by cell number (partial match)"},"region":{"type":"string","description":"Filter by region (partial match)"},"city":{"type":"string","description":"Filter by city (partial match)"},"orderStatus":{"type":"string","description":"Filter by order status"},"startDateFrom":{"type":"string","format":"date-time","description":"Filter appointments with start date after this date"},"startDateTo":{"type":"string","format":"date-time","description":"Filter appointments with start date before this date"},"page":{"type":"integer","default":1,"description":"Page number for pagination"},"pageSize":{"type":"integer","default":20,"description":"Number of items per page"}}}}}},"responses":{"200":{"description":"Paginated appointment list view data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentListViewResponse"}}}},"500":{"description":"Server error"}}}},"/api/appointments/bulk-update-status":{"post":{"summary":"Update statuses for multiple appointments","tags":["Appointments"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"appointmentIds":{"type":"array","items":{"type":"integer"},"description":"Array of appointment IDs to update"},"inviteStatus":{"type":"string","description":"New invite status"},"meetingStatus":{"type":"string","description":"New meeting status"}},"required":["appointmentIds"]}}}},"responses":{"200":{"description":"Status of the bulk update operation","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"updated":{"type":"integer"},"failed":{"type":"integer"}}}}}},"400":{"description":"Bad request"},"500":{"description":"Server error"}}}},"/api/appointments":{"get":{"summary":"Get all appointments with pagination","tags":["Appointments"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"List of appointments with pagination details","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Appointment"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new appointment","tags":["Appointments"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Appointment"}}}},"responses":{"201":{"description":"The created appointment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Appointment"}}}},"400":{"description":"Invalid request body"},"500":{"description":"Server error"}}}},"/api/appointments/with-orders":{"get":{"summary":"Get all appointments with their related order list details","tags":["Appointments"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"List of appointments with order list details","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"appointmentID":{"type":"integer"},"orderID":{"type":"integer"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"followUpDate":{"type":"string","format":"date-time"},"arrivalTime":{"type":"string","format":"date-time"},"departureTime":{"type":"string","format":"date-time"},"inviteStatus":{"type":"string"},"meetingStatus":{"type":"string"},"location":{"type":"string"},"ordersList":{"type":"object","properties":{"orderid":{"type":"integer"},"orderStatus":{"type":"string"},"clientsName":{"type":"string"},"fullAddress":{"type":"string"},"city":{"type":"string"},"surveyor":{"type":"string"}}}}}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"500":{"description":"Server error"}}}},"/api/appointments/search-with-orders":{"post":{"summary":"Search appointments with their related order list details","tags":["Appointments"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"inviteStatus":{"type":"string"},"meetingStatus":{"type":"string"},"location":{"type":"string"},"startDateFrom":{"type":"string","format":"date-time"},"startDateTo":{"type":"string","format":"date-time"},"clientName":{"type":"string"},"surveyor":{"type":"string"},"orderStatus":{"type":"string"},"page":{"type":"integer","default":1},"pageSize":{"type":"integer","default":20}}}}}},"responses":{"200":{"description":"List of filtered appointments with order list details","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"appointmentID":{"type":"integer"},"orderID":{"type":"integer"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"inviteStatus":{"type":"string"},"location":{"type":"string"},"ordersList":{"type":"object"}}}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"500":{"description":"Server error"}}}},"/api/appointments/status/{inviteStatus}":{"get":{"summary":"Get appointments by invite status","tags":["Appointments"],"parameters":[{"in":"path","name":"inviteStatus","required":true,"schema":{"type":"string"},"description":"Invite status to filter by"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"List of appointments with the specified invite status","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Appointment"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"500":{"description":"Server error"}}}},"/api/appointments/order/{orderId}":{"get":{"summary":"Get appointments by order ID","tags":["Appointments"],"parameters":[{"in":"path","name":"orderId","required":true,"schema":{"type":"integer"},"description":"Order ID"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"List of appointments for the specified order","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Appointment"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"500":{"description":"Server error"}}}},"/api/appointments/order/{orderId}/with-details":{"get":{"summary":"Get appointments by order ID with order list details","tags":["Appointments"],"parameters":[{"in":"path","name":"orderId","required":true,"schema":{"type":"integer"},"description":"Order ID"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"List of appointments for the specified order with order list details","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"appointmentID":{"type":"integer"},"orderID":{"type":"integer"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"inviteStatus":{"type":"string"},"location":{"type":"string"},"ordersList":{"type":"object","properties":{"orderid":{"type":"integer"},"orderStatus":{"type":"string"},"clientsName":{"type":"string"},"fullAddress":{"type":"string"},"city":{"type":"string"},"surveyor":{"type":"string"}}}}}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"400":{"description":"Invalid order ID"},"500":{"description":"Server error"}}}},"/api/appointments/{id}":{"put":{"summary":"Update an appointment","tags":["Appointments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Appointment ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Appointment"}}}},"responses":{"200":{"description":"The updated appointment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Appointment"}}}},"400":{"description":"Invalid request"},"404":{"description":"Appointment not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete an appointment","tags":["Appointments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Appointment ID"}],"responses":{"200":{"description":"Appointment deleted successfully"},"404":{"description":"Appointment not found"},"500":{"description":"Server error"}}}},"/api/appointments/{id}/with-order":{"get":{"summary":"Get an appointment by ID with related order list details","tags":["Appointments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Appointment ID"}],"responses":{"200":{"description":"The appointment with order list details","content":{"application/json":{"schema":{"type":"object","properties":{"appointmentID":{"type":"integer"},"orderID":{"type":"integer"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"followUpDate":{"type":"string","format":"date-time"},"arrivalTime":{"type":"string","format":"date-time"},"departureTime":{"type":"string","format":"date-time"},"inviteStatus":{"type":"string"},"meetingStatus":{"type":"string"},"location":{"type":"string"},"comments":{"type":"string"},"category":{"type":"string"},"outoftown":{"type":"string"},"surveyorComments":{"type":"string"},"eventId":{"type":"string"},"surveyorEmail":{"type":"string"},"dateModified":{"type":"string","format":"date-time"},"ordersList":{"type":"object","properties":{"orderid":{"type":"integer"},"orderStatus":{"type":"string"},"policy":{"type":"string"},"clientsName":{"type":"string"},"clientID":{"type":"integer"},"client":{"type":"string"},"fullAddress":{"type":"string"},"region":{"type":"string"},"city":{"type":"string"},"surveyor":{"type":"string"},"surveyorID":{"type":"integer"},"insurer":{"type":"string"},"broker":{"type":"string"}}}}}}}},"404":{"description":"Appointment not found"},"500":{"description":"Server error"}}}},"/api/auth/login":{"post":{"summary":"Login and get JWT token","description":"Authenticate user and return JWT token for API access.\n\n**Mock Authentication (Development):**\n- Use `mockUser: true` for development testing\n- Internal users: prefix username with `internal-` (e.g., `internal-admin123`)\n- External users: prefix username with `external-` (e.g., `external-client456`)\n\n**Production Authentication:**\n- Set `mockUser: false` or omit it\n- Requires Azure AD configuration\n\n**Usage:**\n1. Call this endpoint to get a JWT token\n2. Include the token in the `Authorization` header as `Bearer <token>`\n3. Use the token for all subsequent API calls\n","tags":["Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"},"examples":{"internalUser":{"summary":"Internal User Login","value":{"username":"internal-admin123","password":"password","mockUser":true}},"externalUser":{"summary":"External User Login","value":{"username":"external-client456","password":"password","mockUser":true}}}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"},"example":{"success":true,"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","user":{"userId":"internal-admin123","userType":"Internal","roles":["Staff"],"groups":["Valuations-Staff","Valuations-Managers"],"entityMappings":[]},"expiresIn":"24h"}}}},"400":{"description":"Bad request - missing required fields","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"success":false,"error":"Username is required"}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"success":false,"error":"Invalid mock user format. Use internal-* or external-* prefix"}}}},"429":{"description":"Too many login attempts","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"success":false,"error":"Too many login attempts"}}}},"503":{"description":"Authentication service not configured","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"success":false,"error":"Authentication service not configured"}}}}}}},"/api/auth/me":{"get":{"summary":"Get current user information","description":"Get information about the currently authenticated user.\nThis endpoint requires a valid JWT token in the Authorization header.\n","tags":["Authentication"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User information retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"user":{"$ref":"#/components/schemas/UserInfo"}}},"example":{"success":true,"user":{"userId":"internal-admin123","userType":"Internal","roles":["Staff"],"groups":["Valuations-Staff","Valuations-Managers"],"entityMappings":[]}}}}},"401":{"description":"Not authenticated or invalid token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Access denied. No token provided.","code":"NO_TOKEN"}}}}}}},"/api/auth/logout":{"post":{"summary":"Logout (token invalidation)","description":"Logout user (for client-side token removal, server-side blacklisting in future)","tags":["Authentication"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Logout successful"}}}},"/api/auth/azure/login-url":{"get":{"summary":"Get Azure AD login URL","description":"Get the Azure AD OAuth2 authorization URL for user authentication.\nThis handles 2FA and redirects users to Azure AD for proper authentication.\n\n**Usage:**\n1. Call this endpoint to get the Azure AD login URL\n2. Open the URL in a browser (user will handle 2FA there)\n3. User will be redirected back with an authorization code\n4. Use the code with /api/auth/azure/callback to get the token\n","tags":["Authentication"],"parameters":[{"in":"query","name":"redirect_uri","schema":{"type":"string","default":""},"description":"Where Azure AD should redirect after authentication. If not provided, defaults to the current server URL + /api/auth/azure/callback. For this server, it would be https://ca-valuations-api-test.purplebeach-27e5a02b.uksouth.azurecontainerapps.io/api/auth/azure/callback"}],"responses":{"200":{"description":"Azure AD login URL generated","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"loginUrl":{"type":"string","description":"URL to redirect user to for Azure AD authentication"},"state":{"type":"string","description":"State parameter for security"}}},"example":{"success":true,"loginUrl":"https://login.microsoftonline.com/...","state":"abc123"}}}},"503":{"description":"Azure AD not configured"}}}},"/api/auth/azure/callback":{"get":{"summary":"Handle Azure AD callback and get JWT token","description":"Exchange Azure AD authorization code for JWT token.\nThis endpoint is typically called automatically after Azure AD redirect.\n","tags":["Authentication"],"parameters":[{"in":"query","name":"code","required":true,"schema":{"type":"string"},"description":"Authorization code from Azure AD"},{"in":"query","name":"state","schema":{"type":"string"},"description":"State parameter for security verification"}],"responses":{"200":{"description":"Authentication successful, JWT token returned","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"400":{"description":"Missing authorization code"},"500":{"description":"Azure AD token exchange failed"}}}},"/api/auth/token-exchange":{"post":{"summary":"Exchange Azure AD token for API JWT (Mobile App Flow)","description":"Exchange a valid Azure AD token for an API-specific JWT token.\nThis is the recommended flow for mobile applications:\n1. Mobile app authenticates with Azure AD\n2. Mobile app calls this endpoint with Azure AD token\n3. API validates Azure AD token and returns API JWT\n4. Mobile app uses API JWT for all subsequent requests\n","tags":["Authentication"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["azureToken"],"properties":{"azureToken":{"type":"string","description":"Valid Azure AD access token from mobile app","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIs..."},"deviceInfo":{"type":"object","description":"Optional device information for audit logging","properties":{"deviceId":{"type":"string"},"platform":{"type":"string","enum":["ios","android","web"]},"appVersion":{"type":"string"}}}}}}}},"responses":{"200":{"description":"Token exchange successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"400":{"description":"Invalid or missing Azure token"},"403":{"description":"Azure token validation failed"},"500":{"description":"Token exchange processing error"}}}},"/api/entities":{"get":{"summary":"Retrieve a list of entities","description":"Get all entities from the database with optional pagination","tags":["Entities"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of entities","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Entity"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new entity","description":"Add a new entity with addresses and contacts","tags":["Entities"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"entity":{"$ref":"#/components/schemas/Entity"},"addresses":{"type":"array","items":{"$ref":"#/components/schemas/EntityAddress"}},"contacts":{"type":"array","items":{"$ref":"#/components/schemas/EntityContact"}},"typeId":{"type":"integer","description":"Entity type ID"}}}}}},"responses":{"201":{"description":"Entity created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"entity":{"$ref":"#/components/schemas/Entity"}}}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/entities/search":{"get":{"summary":"Search entities by field","description":"Find entities based on a specified field and value","tags":["Entities"],"parameters":[{"in":"query","name":"field","required":true,"schema":{"type":"string"},"description":"Field name to search on (e.g., \"company\", \"entityid\")"},{"in":"query","name":"value","required":true,"schema":{"type":"string"},"description":"Value to search for"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of matching entities","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Entity"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"400":{"description":"Missing or invalid parameters"},"500":{"description":"Server error"}}}},"/api/entities/{id}":{"get":{"summary":"Get a specific entity by ID","description":"Retrieve entity details based on the provided ID","tags":["Entities"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Entity ID"}],"responses":{"200":{"description":"Entity details with addresses and contacts","content":{"application/json":{"schema":{"type":"object","properties":{"entity":{"$ref":"#/components/schemas/Entity"},"addresses":{"type":"array","items":{"$ref":"#/components/schemas/EntityAddress"}},"contacts":{"type":"array","items":{"$ref":"#/components/schemas/EntityContact"}},"type":{"$ref":"#/components/schemas/EntityTypes"}}}}}},"404":{"description":"Entity not found"},"500":{"description":"Server error"}}}},"/api/entities/{id}/addresses":{"get":{"summary":"Get addresses for an entity","description":"Retrieve all addresses for a specific entity","tags":["Entities"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Entity ID"}],"responses":{"200":{"description":"List of entity addresses","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EntityAddress"}}}}},"404":{"description":"Entity not found"},"500":{"description":"Server error"}}}},"/api/entities/{id}/contacts":{"get":{"summary":"Get contacts for an entity","description":"Retrieve all contacts for a specific entity","tags":["Entities"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Entity ID"}],"responses":{"200":{"description":"List of entity contacts","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EntityContact"}}}}},"404":{"description":"Entity not found"},"500":{"description":"Server error"}}}},"/api/entity-addresses":{"get":{"summary":"Retrieve a list of entity addresses","description":"Get all entity addresses from the database","tags":["EntityAddresses"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer"},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer"},"description":"Number of items per page"}],"responses":{"200":{"description":"A list of entity addresses","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/EntityAddress"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new entity address","description":"Add a new entity address to the database","tags":["EntityAddresses"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityAddress"}}}},"responses":{"201":{"description":"Entity address created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityAddress"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/entity-addresses/{id}":{"get":{"summary":"Get a specific entity address by ID","description":"Retrieve entity address details based on the provided ID","tags":["EntityAddresses"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"EntityAddress ID"}],"responses":{"200":{"description":"Entity address details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityAddress"}}}},"404":{"description":"Entity address not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing entity address","description":"Update entity address details based on the provided ID","tags":["EntityAddresses"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"EntityAddress ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityAddress"}}}},"responses":{"200":{"description":"Entity address updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityAddress"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Entity address not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete an entity address","description":"Delete an entity address based on the provided ID","tags":["EntityAddresses"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"EntityAddress ID"}],"responses":{"204":{"description":"Entity address deleted successfully"},"404":{"description":"Entity address not found"},"500":{"description":"Server error"}}}},"/api/health":{"get":{"summary":"Get API health status","description":"Returns the current health status of the API and its dependencies","tags":["Health"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"uptime":{"type":"number","example":123.45},"timestamp":{"type":"string","format":"date-time"},"database":{"type":"object","properties":{"status":{"type":"string","example":"connected"},"responseTime":{"type":"number","example":15}}},"environment":{"type":"string","example":"development"},"version":{"type":"string","example":"1.0.0"},"port":{"type":"number","example":5010}}}}}}}}},"/api/health/detail":{"get":{"summary":"Get detailed API health information","description":"Returns comprehensive health information about all API components","tags":["Health"],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/api/media/health":{"get":{"summary":"Get media service health status","tags":["Media"],"responses":{"200":{"description":"Media service status"},"500":{"description":"Server error"}}}},"/api/media/upload":{"post":{"summary":"Upload a media file","tags":["Media"],"consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"file","type":"file","required":true,"description":"The media file to upload"},{"in":"formData","name":"entityName","type":"string","required":true,"description":"The name of the entity this media belongs to"},{"in":"formData","name":"entityId","type":"integer","required":true,"description":"The ID of the entity this media belongs to"},{"in":"formData","name":"uploadedBy","type":"string","description":"User who uploaded the file"},{"in":"formData","name":"metadata","type":"string","description":"Additional metadata as JSON string"}],"responses":{"201":{"description":"File uploaded successfully"},"400":{"description":"Bad request - missing file or required fields"},"500":{"description":"Server error"}}}},"/api/media/{id}":{"get":{"summary":"Get media file metadata by ID","tags":["Media"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Media file ID"}],"responses":{"200":{"description":"Media file metadata"},"404":{"description":"Media file not found"},"410":{"description":"Media file has been deleted"},"500":{"description":"Server error"}}},"put":{"summary":"Update media file metadata","tags":["Media"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Media file ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"fileName":{"type":"string","description":"New filename"},"metadata":{"type":"object","description":"Updated metadata"},"uploadedBy":{"type":"string","description":"User who updated the file"}}}}}},"responses":{"200":{"description":"Media file updated successfully"},"404":{"description":"Media file not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete media file (soft delete by default)","tags":["Media"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Media file ID"},{"in":"query","name":"permanent","schema":{"type":"boolean","default":false},"description":"Permanently delete file from storage and database"}],"responses":{"200":{"description":"Media file deleted successfully"},"404":{"description":"Media file not found"},"500":{"description":"Server error"}}}},"/api/media/{id}/download":{"get":{"summary":"Download media file content","tags":["Media"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Media file ID"}],"responses":{"200":{"description":"Media file content","headers":{"Content-Type":{"description":"MIME type of the file","schema":{"type":"string"}},"Content-Disposition":{"description":"Attachment filename","schema":{"type":"string"}}}},"404":{"description":"Media file not found"},"410":{"description":"Media file has been deleted"},"500":{"description":"Server error"}}}},"/api/media/entity/{entityName}/{entityId}":{"get":{"summary":"Get all media files for a specific entity","tags":["Media"],"parameters":[{"in":"path","name":"entityName","required":true,"schema":{"type":"string"},"description":"Entity name (e.g., 'appointment', 'risk_assessment')"},{"in":"path","name":"entityId","required":true,"schema":{"type":"integer"},"description":"Entity ID"},{"in":"query","name":"includeDeleted","schema":{"type":"boolean","default":false},"description":"Include soft-deleted files in results"}],"responses":{"200":{"description":"List of media files for the entity"},"400":{"description":"Bad request - missing entity name or ID"},"500":{"description":"Server error"}}}},"/api/order-form":{"get":{"summary":"Retrieve a list of order forms with pagination.","description":"Get all order forms from the database, with support for pagination using `page` and `pageSize` query parameters.","tags":["OrderForm"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"The page number to retrieve."},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"The number of items to retrieve per page."}],"responses":{"200":{"description":"A paginated list of order forms.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Orderform"}},"totalCount":{"type":"integer","description":"Total number of order forms."},"page":{"type":"integer","description":"Current page number."},"pageSize":{"type":"integer","description":"Number of items per page."},"totalPages":{"type":"integer","description":"Total number of pages."}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new order form","description":"Add a new order form to the database.","tags":["OrderForm"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orderform"}}}},"responses":{"201":{"description":"Order form created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orderform"}}}},"400":{"description":"Invalid request data."},"500":{"description":"Server error."}}}},"/api/order-form/{id}":{"get":{"summary":"Get a specific order form by ID","description":"Retrieve order form details based on the provided OrderID.","tags":["OrderForm"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"OrderID of the order form to retrieve."}],"responses":{"200":{"description":"Order form details.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orderform"}}}},"400":{"description":"Invalid ID supplied."},"404":{"description":"Order form not found."},"500":{"description":"Server error."}}},"put":{"summary":"Update an existing order form","description":"Update order form details based on the provided OrderID.","tags":["OrderForm"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"OrderID of the order form to update."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orderform"}}}},"responses":{"200":{"description":"Order form updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orderform"}}}},"400":{"description":"Invalid request data or ID."},"404":{"description":"Order form not found."},"500":{"description":"Server error."}}},"delete":{"summary":"Delete an order form","description":"Remove an order form from the database using its OrderID.","tags":["OrderForm"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"OrderID of the order form to delete."}],"responses":{"200":{"description":"Order form deleted successfully."},"400":{"description":"Invalid ID supplied."},"404":{"description":"Order form not found."},"500":{"description":"Server error."}}}},"/api/orders":{"get":{"summary":"Retrieve a list of orders","description":"Get all orders from the database","tags":["Orders"],"responses":{"200":{"description":"A list of orders","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Orders"}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new order","description":"Add a new order to the database","tags":["Orders"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orders"}}}},"responses":{"201":{"description":"Order created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orders"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/orders/{id}":{"get":{"summary":"Get a specific order by ID","description":"Retrieve order details based on the provided ID","tags":["Orders"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Order ID"}],"responses":{"200":{"description":"Order details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orders"}}}},"404":{"description":"Order not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing order","description":"Update order details based on the provided ID","tags":["Orders"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Order ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orders"}}}},"responses":{"200":{"description":"Order updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Orders"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Order not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete an order","description":"Delete an order based on the provided ID","tags":["Orders"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Order ID"}],"responses":{"204":{"description":"Order deleted successfully"},"404":{"description":"Order not found"},"500":{"description":"Server error"}}}},"/api/orders-list":{"get":{"summary":"Retrieve a list of orders with pagination","description":"Get all orders from the V_Orders_list view with pagination support","tags":["OrdersList"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"The page number to retrieve"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"The number of items to retrieve per page"}],"responses":{"200":{"description":"A paginated list of orders","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OrdersList"}},"total":{"type":"integer","description":"Total number of orders"},"page":{"type":"integer","description":"Current page number"},"pageSize":{"type":"integer","description":"Number of items per page"},"totalPages":{"type":"integer","description":"Total number of pages"}}}}}},"500":{"description":"Server error"}}}},"/api/orders-list/search":{"get":{"summary":"Search orders with various filters","description":"Search orders from the V_Orders_list view with multiple filter parameters","tags":["OrdersList"],"parameters":[{"in":"query","name":"client","schema":{"type":"string"},"description":"Client name to filter by (partial match)"},{"in":"query","name":"broker","schema":{"type":"string"},"description":"Broker name to filter by (partial match)"},{"in":"query","name":"insurer","schema":{"type":"string"},"description":"Insurer name to filter by (partial match)"},{"in":"query","name":"surveyor","schema":{"type":"string"},"description":"Surveyor name to filter by (partial match)"},{"in":"query","name":"orderStatus","schema":{"type":"string"},"description":"Order status to filter by (exact match)"},{"in":"query","name":"fromDate","schema":{"type":"string","format":"date"},"description":"Start date for the order date range filter (YYYY-MM-DD)"},{"in":"query","name":"toDate","schema":{"type":"string","format":"date"},"description":"End date for the order date range filter (YYYY-MM-DD)"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"The page number to retrieve"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"The number of items to retrieve per page"}],"responses":{"200":{"description":"A paginated list of filtered orders","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OrdersList"}},"total":{"type":"integer","description":"Total number of matching orders"},"page":{"type":"integer","description":"Current page number"},"pageSize":{"type":"integer","description":"Number of items per page"},"totalPages":{"type":"integer","description":"Total number of pages"}}}}}},"500":{"description":"Server error"}}}},"/api/orders-list/client/{clientId}":{"get":{"summary":"Get orders for a specific client","description":"Retrieve orders from the V_Orders_list view for a specific client ID","tags":["OrdersList"],"parameters":[{"in":"path","name":"clientId","required":true,"schema":{"type":"integer"},"description":"ClientID to filter orders by"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"The page number to retrieve"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"The number of items to retrieve per page"}],"responses":{"200":{"description":"A paginated list of orders for the client","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OrdersList"}},"total":{"type":"integer","description":"Total number of orders for the client"},"page":{"type":"integer","description":"Current page number"},"pageSize":{"type":"integer","description":"Number of items per page"},"totalPages":{"type":"integer","description":"Total number of pages"}}}}}},"400":{"description":"Invalid client ID supplied"},"500":{"description":"Server error"}}}},"/api/orders-list/{id}":{"get":{"summary":"Get a specific order by ID","description":"Retrieve order details from the V_Orders_list view based on the provided OrderID","tags":["OrdersList"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"OrderID of the order to retrieve"}],"responses":{"200":{"description":"Order details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdersList"}}}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Order not found"},"500":{"description":"Server error"}}}},"/api/order-templates":{"get":{"summary":"Retrieve a list of order templates","description":"Get paginated order templates with optional filtering","tags":["Order Templates"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of order templates","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Ordertemplate"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new order template","description":"Add a new order template","tags":["Order Templates"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ordertemplate"}}}},"responses":{"201":{"description":"Order template created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ordertemplate"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/order-templates/{id}":{"get":{"summary":"Get a specific order template by ID","description":"Retrieve order template details based on the provided ID","tags":["Order Templates"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Order template ID"}],"responses":{"200":{"description":"Order template details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ordertemplate"}}}},"404":{"description":"Order template not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an order template","description":"Update an existing order template by ID","tags":["Order Templates"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Order template ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ordertemplate"}}}},"responses":{"200":{"description":"Order template updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ordertemplate"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Order template not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete an order template","description":"Delete an existing order template by ID","tags":["Order Templates"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Order template ID"}],"responses":{"200":{"description":"Order template deleted successfully"},"404":{"description":"Order template not found"},"500":{"description":"Server error"}}}},"/api/order-templates/order/{orderId}":{"get":{"summary":"Get order templates by order ID","description":"Retrieve all templates for a specific order","tags":["Order Templates"],"parameters":[{"in":"path","name":"orderId","required":true,"schema":{"type":"integer"},"description":"Order ID"}],"responses":{"200":{"description":"List of order templates for the order","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Ordertemplate"}}}}},"404":{"description":"No templates found for the order"},"500":{"description":"Server error"}}}},"/api/order-templates/risk-template/{riskTemplateId}":{"get":{"summary":"Get order templates by risk template ID","description":"Retrieve all templates for a specific risk template","tags":["Order Templates"],"parameters":[{"in":"path","name":"riskTemplateId","required":true,"schema":{"type":"integer"},"description":"Risk Template ID"}],"responses":{"200":{"description":"List of order templates for the risk template","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Ordertemplate"}}}}},"404":{"description":"No templates found for the risk template"},"500":{"description":"Server error"}}}},"/api/qra-appointments":{"get":{"summary":"Retrieve a list of QRA appointments","description":"Get all QRA appointments from the database with pagination support","tags":["QraAppointments"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A list of QRA appointments","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/QraAppointment"}},"total":{"type":"integer","description":"Total number of appointments"},"page":{"type":"integer","description":"Current page number"},"pageSize":{"type":"integer","description":"Number of items per page"},"totalPages":{"type":"integer","description":"Total number of pages"}}}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}},"post":{"summary":"Create a new QRA appointment","description":"Add a new QRA appointment to the database","tags":["QraAppointments"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QraAppointment"}}}},"responses":{"201":{"description":"QRA Appointment created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QraAppointment"}}}},"400":{"description":"Invalid request data","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/qra-appointments/{id}":{"get":{"summary":"Get a specific QRA appointment by ID","description":"Retrieve QRA appointment details based on the provided ID","tags":["QraAppointments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"QRA Appointment ID"}],"responses":{"200":{"description":"QRA Appointment details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QraAppointment"}}}},"404":{"description":"QRA Appointment not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}},"put":{"summary":"Update an existing QRA appointment","description":"Update QRA appointment details based on the provided ID","tags":["QraAppointments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"QRA Appointment ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QraAppointment"}}}},"responses":{"200":{"description":"QRA Appointment updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QraAppointment"}}}},"400":{"description":"Invalid request data","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"404":{"description":"QRA Appointment not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}},"delete":{"summary":"Delete a QRA appointment","description":"Delete a QRA appointment based on the provided ID","tags":["QraAppointments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"QRA Appointment ID"}],"responses":{"204":{"description":"QRA Appointment deleted successfully"},"404":{"description":"QRA Appointment not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/qra-appointments/order/{orderId}":{"get":{"summary":"Get QRA appointments by order ID","description":"Retrieve QRA appointments based on the provided order ID with pagination support","tags":["QraAppointments"],"parameters":[{"in":"path","name":"orderId","required":true,"schema":{"type":"integer"},"description":"Order ID"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A list of QRA appointments for the specified order","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/QraAppointment"}},"total":{"type":"integer","description":"Total number of appointments for this order"},"page":{"type":"integer","description":"Current page number"},"pageSize":{"type":"integer","description":"Number of items per page"},"totalPages":{"type":"integer","description":"Total number of pages"}}}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/risk-assessment-categories":{"get":{"summary":"Retrieve a list of risk assessment categories (paginated)","tags":["RiskAssessmentCategory"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of records per page"}],"responses":{"200":{"description":"A paginated list of risk assessment categories","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentCategory"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"}}}}}}}},"post":{"summary":"Create a new risk assessment category","tags":["RiskAssessmentCategory"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategory"}}}},"responses":{"201":{"description":"Risk assessment category created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategory"}}}},"400":{"description":"Invalid input data"}}}},"/api/risk-assessment-categories/{id}":{"get":{"summary":"Get a risk assessment category by ID","tags":["RiskAssessmentCategory"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID of the risk assessment category to get"}],"responses":{"200":{"description":"Risk assessment category found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategory"}}}},"404":{"description":"Risk assessment category not found"}}},"put":{"summary":"Update an existing risk assessment category","tags":["RiskAssessmentCategory"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID of the risk assessment category to update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategory"}}}},"responses":{"200":{"description":"Risk assessment category updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategory"}}}},"400":{"description":"Invalid input data"},"404":{"description":"Risk assessment category not found"}}},"delete":{"summary":"Delete a risk assessment category","tags":["RiskAssessmentCategory"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID of the risk assessment category to delete"}],"responses":{"200":{"description":"Risk assessment category deleted successfully"},"404":{"description":"Risk assessment category not found"}}}},"/api/risk-assessment-categories/section/{sectionId}":{"get":{"summary":"Get all categories belonging to a specific section","tags":["RiskAssessmentCategory"],"parameters":[{"in":"path","name":"sectionId","schema":{"type":"integer"},"required":true,"description":"ID of the risk assessment section"}],"responses":{"200":{"description":"List of risk assessment categories for the section","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentCategory"}}}}}}}},"/api/risk-assessment-category-type-fields":{"get":{"summary":"Retrieve a list of risk assessment category type fields","description":"Get all risk assessment category type fields from the database with pagination","tags":["RiskAssessmentCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of risk assessment category type fields","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentCategoryTypeField"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"401":{"description":"Authentication required"},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk assessment category type field","description":"Add a new risk assessment category type field to the database","tags":["RiskAssessmentCategoryTypeFields"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["riskAssessmentCategoryID","item_fields","display_on_ui"],"properties":{"riskAssessmentCategoryID":{"type":"integer","description":"ID of the associated risk assessment category"},"item_fields":{"type":"string","maxLength":255,"description":"Item fields definition"},"field_label":{"type":"string","maxLength":100,"description":"Label for the field"},"display_on_ui":{"type":"integer","description":"Whether to display this field on the UI (0 = false, 1 = true)"}}}}}},"responses":{"201":{"description":"Risk assessment category type field created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategoryTypeField"}}}},"400":{"description":"Invalid request data"},"401":{"description":"Authentication required"},"500":{"description":"Server error"}}}},"/api/risk-assessment-category-type-fields/{id}":{"get":{"summary":"Get a specific risk assessment category type field by ID","description":"Retrieve risk assessment category type field details based on the provided ID","tags":["RiskAssessmentCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","format":"int64"},"description":"Risk assessment category type field ID"}],"responses":{"200":{"description":"Risk assessment category type field details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategoryTypeField"}}}},"401":{"description":"Authentication required"},"404":{"description":"Risk assessment category type field not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk assessment category type field","description":"Update risk assessment category type field details based on the provided ID","tags":["RiskAssessmentCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","format":"int64"},"description":"Risk assessment category type field ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"riskAssessmentCategoryID":{"type":"integer","description":"ID of the associated risk assessment category"},"item_fields":{"type":"string","maxLength":255,"description":"Item fields definition"},"field_label":{"type":"string","maxLength":100,"description":"Label for the field"},"display_on_ui":{"type":"integer","description":"Whether to display this field on the UI (0 = false, 1 = true)"}}}}}},"responses":{"200":{"description":"Risk assessment category type field updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentCategoryTypeField"}}}},"400":{"description":"Invalid request data"},"401":{"description":"Authentication required"},"404":{"description":"Risk assessment category type field not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk assessment category type field","description":"Remove a risk assessment category type field from the database","tags":["RiskAssessmentCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","format":"int64"},"description":"Risk assessment category type field ID"}],"responses":{"200":{"description":"Risk assessment category type field deleted successfully"},"401":{"description":"Authentication required"},"404":{"description":"Risk assessment category type field not found"},"500":{"description":"Server error"}}}},"/api/risk-assessment-category-type-fields/category/{categoryId}":{"get":{"summary":"Get all fields for a specific risk assessment category","description":"Retrieve all risk assessment category type fields for a given category ID","tags":["RiskAssessmentCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"categoryId","required":true,"schema":{"type":"integer"},"description":"Risk Assessment Category ID"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of risk assessment category type fields","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentCategoryTypeField"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"401":{"description":"Authentication required"},"500":{"description":"Server error"}}}},"/api/risk-assessment-items":{"get":{"summary":"Retrieve a list of risk assessment items","description":"Get paginated risk assessment items with optional filtering","tags":["Risk Assessment Items"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of risk assessment items","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentItem"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk assessment item","description":"Add a new risk assessment item","tags":["Risk Assessment Items"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentItem"}}}},"responses":{"201":{"description":"Risk assessment item created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentItem"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-assessment-items/{id}":{"get":{"summary":"Get a specific risk assessment item by ID","description":"Retrieve risk assessment item details based on the provided ID","tags":["Risk Assessment Items"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment item ID"}],"responses":{"200":{"description":"Risk assessment item details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentItem"}}}},"404":{"description":"Risk assessment item not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update a risk assessment item","description":"Update an existing risk assessment item by ID","tags":["Risk Assessment Items"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment item ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentItem"}}}},"responses":{"200":{"description":"Risk assessment item updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentItem"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk assessment item not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk assessment item","description":"Delete an existing risk assessment item by ID","tags":["Risk Assessment Items"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment item ID"}],"responses":{"200":{"description":"Risk assessment item deleted successfully"},"404":{"description":"Risk assessment item not found"},"500":{"description":"Server error"}}}},"/api/risk-assessment-items/category/{categoryId}":{"get":{"summary":"Get risk assessment items by category ID","description":"Retrieve all risk assessment items for a specific category","tags":["Risk Assessment Items"],"parameters":[{"in":"path","name":"categoryId","required":true,"schema":{"type":"integer"},"description":"Risk assessment category ID"}],"responses":{"200":{"description":"List of risk assessment items for the category","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentItem"}}}}},"404":{"description":"No items found for the category"},"500":{"description":"Server error"}}}},"/api/risk-assessment-master":{"get":{"summary":"Retrieve a list of risk assessments (paginated)","tags":["RiskAssessmentMaster"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of records per page"}],"responses":{"200":{"description":"A paginated list of risk assessments","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"post":{"summary":"Create a new risk assessment","tags":["RiskAssessmentMaster"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentMaster"}}}},"responses":{"201":{"description":"Risk assessment created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentMaster"}}}},"400":{"description":"Invalid input data"}}}},"/api/risk-assessment-master/search":{"get":{"summary":"Search risk assessments by field","tags":["RiskAssessmentMaster"],"parameters":[{"in":"query","name":"field","required":true,"schema":{"type":"string"},"description":"The field to search by (e.g., 'surveyorid', 'clientnumber')"},{"in":"query","name":"value","required":true,"schema":{"type":"string"},"description":"The value to search for"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of records per page"}],"responses":{"200":{"description":"A paginated list of matching risk assessments","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"400":{"description":"Invalid field or value"}}}},"/api/risk-assessment-master/{id}":{"get":{"summary":"Get a risk assessment by ID","tags":["RiskAssessmentMaster"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID of the risk assessment to get"}],"responses":{"200":{"description":"Risk assessment found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentMaster"}}}},"404":{"description":"Risk assessment not found"}}},"put":{"summary":"Update an existing risk assessment","tags":["RiskAssessmentMaster"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID of the risk assessment to update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentMaster"}}}},"responses":{"200":{"description":"Risk assessment updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentMaster"}}}},"400":{"description":"Invalid input data"},"404":{"description":"Risk assessment not found"}}},"delete":{"summary":"Delete a risk assessment","tags":["RiskAssessmentMaster"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID of the risk assessment to delete"}],"responses":{"200":{"description":"Risk assessment deleted successfully"},"404":{"description":"Risk assessment not found"}}}},"/api/risk-assessment-master/bulk":{"post":{"summary":"Create multiple risk assessments in bulk","tags":["RiskAssessmentMaster"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}}}}},"responses":{"201":{"description":"Risk assessments created successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}}}}},"400":{"description":"Invalid input data"}}}},"/api/risk-assessment-master/bulk-delete":{"post":{"summary":"Delete multiple risk assessments in bulk","tags":["RiskAssessmentMaster"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"integer"},"description":"Array of risk assessment IDs to delete"}}}}}},"responses":{"200":{"description":"Risk assessments deleted successfully"},"400":{"description":"Invalid input data"}}}},"/api/risk-assessment-master/by-order/{orderId}":{"get":{"summary":"Find risk assessments by order ID","tags":["RiskAssessmentMaster"],"parameters":[{"in":"path","name":"orderId","schema":{"type":"integer"},"required":true,"description":"The order ID to search for"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of records per page"}],"responses":{"200":{"description":"A paginated list of risk assessments matching the order ID","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"400":{"description":"Invalid order ID"}}}},"/api/risk-assessment-master/by-order":{"post":{"summary":"Find risk assessments by order ID using POST method","tags":["RiskAssessmentMaster"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"orderId":{"type":"integer","description":"The order ID to search for"},"page":{"type":"integer","default":1,"description":"Page number for pagination"},"pageSize":{"type":"integer","default":20,"description":"Number of records per page"}},"required":["orderId"]}}}},"responses":{"200":{"description":"A paginated list of risk assessments matching the order ID","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"400":{"description":"Invalid order ID or request body"}}}},"/api/risk-assessment-numbers":{"get":{"summary":"Retrieve a list of risk assessment numbers","description":"Get paginated risk assessment numbers with optional filtering","tags":["Risk Assessment Numbers"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of risk assessment numbers","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentNo"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk assessment number","description":"Add a new risk assessment number","tags":["Risk Assessment Numbers"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentNo"}}}},"responses":{"201":{"description":"Risk assessment number created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentNo"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-assessment-numbers/{id}":{"get":{"summary":"Get a specific risk assessment number by ID","description":"Retrieve risk assessment number details based on the provided ID","tags":["Risk Assessment Numbers"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment number ID"}],"responses":{"200":{"description":"Risk assessment number details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentNo"}}}},"404":{"description":"Risk assessment number not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update a risk assessment number","description":"Update an existing risk assessment number by ID","tags":["Risk Assessment Numbers"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment number ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentNo"}}}},"responses":{"200":{"description":"Risk assessment number updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentNo"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk assessment number not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk assessment number","description":"Delete an existing risk assessment number by ID","tags":["Risk Assessment Numbers"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment number ID"}],"responses":{"200":{"description":"Risk assessment number deleted successfully"},"404":{"description":"Risk assessment number not found"},"500":{"description":"Server error"}}}},"/api/risk-assessment-numbers/assessment/{assessmentId}":{"get":{"summary":"Get risk assessment numbers by assessment ID","description":"Retrieve all numbers for a specific risk assessment","tags":["Risk Assessment Numbers"],"parameters":[{"in":"path","name":"assessmentId","required":true,"schema":{"type":"integer"},"description":"Risk assessment ID"}],"responses":{"200":{"description":"List of risk assessment numbers for the assessment","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentNo"}}}}},"404":{"description":"No numbers found for the assessment"},"500":{"description":"Server error"}}}},"/api/risk-assessment-sections":{"get":{"summary":"Retrieve a list of risk assessment sections","description":"Get paginated risk assessment sections with optional filtering","tags":["Risk Assessment Sections"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of risk assessment sections","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentSection"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"}}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk assessment section","description":"Add a new risk assessment section","tags":["Risk Assessment Sections"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentSection"}}}},"responses":{"201":{"description":"Risk assessment section created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentSection"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-assessment-sections/{id}":{"get":{"summary":"Get a specific risk assessment section by ID","description":"Retrieve risk assessment section details based on the provided ID","tags":["Risk Assessment Sections"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment section ID"}],"responses":{"200":{"description":"Risk assessment section details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentSection"}}}},"404":{"description":"Risk assessment section not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update a risk assessment section","description":"Update an existing risk assessment section by ID","tags":["Risk Assessment Sections"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment section ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentSection"}}}},"responses":{"200":{"description":"Risk assessment section updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskAssessmentSection"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk assessment section not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk assessment section","description":"Delete an existing risk assessment section by ID","tags":["Risk Assessment Sections"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk assessment section ID"}],"responses":{"200":{"description":"Risk assessment section deleted successfully"},"404":{"description":"Risk assessment section not found"},"500":{"description":"Server error"}}}},"/api/risk-assessment-sections/assessment/{assessmentId}":{"get":{"summary":"Get risk assessment sections by assessment ID","description":"Retrieve all sections for a specific risk assessment","tags":["Risk Assessment Sections"],"parameters":[{"in":"path","name":"assessmentId","required":true,"schema":{"type":"integer"},"description":"Risk assessment ID"}],"responses":{"200":{"description":"List of risk assessment sections for the assessment","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentSection"}}}}},"404":{"description":"No sections found for the assessment"},"500":{"description":"Server error"}}}},"/api/risk-domestic-details":{"get":{"summary":"Retrieve a list of risk domestic details","description":"Get all risk domestic details from the database","tags":["RiskDomesticDetails"],"responses":{"200":{"description":"A list of risk domestic details","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskDomesticDetail"}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk domestic detail","description":"Add a new risk domestic detail to the database","tags":["RiskDomesticDetails"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomesticDetail"}}}},"responses":{"201":{"description":"Risk domestic detail created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomesticDetail"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-domestic-details/{id}":{"get":{"summary":"Get a specific risk domestic detail by ID","description":"Retrieve risk domestic detail by the provided line ID","tags":["RiskDomesticDetails"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Line ID"}],"responses":{"200":{"description":"Risk domestic detail","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomesticDetail"}}}},"404":{"description":"Risk domestic detail not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk domestic detail","description":"Update risk domestic detail based on the provided ID","tags":["RiskDomesticDetails"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Line ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomesticDetail"}}}},"responses":{"200":{"description":"Risk domestic detail updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomesticDetail"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk domestic detail not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk domestic detail","description":"Delete a risk domestic detail based on the provided ID","tags":["RiskDomesticDetails"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Line ID"}],"responses":{"204":{"description":"Risk domestic detail deleted successfully"},"404":{"description":"Risk domestic detail not found"},"500":{"description":"Server error"}}}},"/api/risk-domestic-details/domestic/{domesticId}":{"get":{"summary":"Get all risk domestic details for a specific domestic","description":"Retrieve risk domestic details for a specific domestic ID","tags":["RiskDomesticDetails"],"parameters":[{"in":"path","name":"domesticId","required":true,"schema":{"type":"integer"},"description":"Domestic ID"}],"responses":{"200":{"description":"List of risk domestic details","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskDomesticDetail"}}}}},"500":{"description":"Server error"}}}},"/api/risk-domestics":{"get":{"summary":"Retrieve a list of risk domestics","description":"Get all risk domestics from the database","tags":["RiskDomestics"],"responses":{"200":{"description":"A list of risk domestics","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskDomestic"}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk domestic","description":"Add a new risk domestic to the database","tags":["RiskDomestics"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomestic"}}}},"responses":{"201":{"description":"Risk domestic created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomestic"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-domestics/{id}":{"get":{"summary":"Get a specific risk domestic by ID","description":"Retrieve risk domestic details based on the provided ID","tags":["RiskDomestics"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Domestic ID"}],"responses":{"200":{"description":"Risk domestic details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomestic"}}}},"404":{"description":"Risk domestic not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk domestic","description":"Update risk domestic details based on the provided ID","tags":["RiskDomestics"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Domestic ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomestic"}}}},"responses":{"200":{"description":"Risk domestic updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskDomestic"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk domestic not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk domestic","description":"Delete a risk domestic based on the provided ID","tags":["RiskDomestics"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Domestic ID"}],"responses":{"204":{"description":"Risk domestic deleted successfully"},"404":{"description":"Risk domestic not found"},"500":{"description":"Server error"}}}},"/api/risk-domestics/entity/{entityId}":{"get":{"summary":"Get all risk domestics for an entity","description":"Retrieve risk domestic records for a specific entity","tags":["RiskDomestics"],"parameters":[{"in":"path","name":"entityId","required":true,"schema":{"type":"integer"},"description":"Entity ID"}],"responses":{"200":{"description":"List of risk domestics for the entity","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskDomestic"}}}}},"500":{"description":"Server error"}}}},"/api/risk-template-categories":{"get":{"summary":"Retrieve a list of risk template categories","description":"Get all risk template categories from the database","tags":["RiskTemplateCategories"],"responses":{"200":{"description":"A list of risk template categories","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateCategory"}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk template category","description":"Add a new risk template category to the database","tags":["RiskTemplateCategories"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategory"}}}},"responses":{"201":{"description":"Risk template category created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategory"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-template-categories/{id}":{"get":{"summary":"Get a specific risk template category by ID","description":"Retrieve risk template category details based on the provided ID","tags":["RiskTemplateCategories"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Category ID"}],"responses":{"200":{"description":"Risk Template Category details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategory"}}}},"404":{"description":"Risk Template Category not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk template category","description":"Update risk template category details based on the provided ID","tags":["RiskTemplateCategories"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Category ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategory"}}}},"responses":{"200":{"description":"Risk template category updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategory"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk template category not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk template category","description":"Delete a risk template category based on the provided ID","tags":["RiskTemplateCategories"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Category ID"}],"responses":{"204":{"description":"Risk template category deleted successfully"},"404":{"description":"Risk template category not found"},"500":{"description":"Server error"}}}},"/api/risk-template-categories/section/{sectionId}":{"get":{"summary":"Get all categories for a specific risk template section","description":"Retrieve all risk template categories for a given section ID","tags":["RiskTemplateCategories"],"parameters":[{"in":"path","name":"sectionId","required":true,"schema":{"type":"integer"},"description":"Risk Template Section ID"}],"responses":{"200":{"description":"A list of risk template categories","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateCategory"}}}}},"500":{"description":"Server error"}}}},"/api/risk-template-category-type-fields":{"get":{"summary":"Retrieve a list of risk template category type fields","description":"Get all risk template category type fields from the database with pagination","tags":["RiskTemplateCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of risk template category type fields","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateCategoryTypeField"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"401":{"description":"Authentication required"},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk template category type field","description":"Add a new risk template category type field to the database","tags":["RiskTemplateCategoryTypeFields"],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["riskTemplateCategoryID","item_fields","display_on_ui"],"properties":{"riskTemplateCategoryID":{"type":"integer","description":"ID of the associated risk template category"},"item_fields":{"type":"string","maxLength":255,"description":"Item fields definition"},"field_label":{"type":"string","maxLength":100,"description":"Label for the field"},"display_on_ui":{"type":"integer","description":"Whether to display this field on the UI (0 = false, 1 = true)"}}}}}},"responses":{"201":{"description":"Risk template category type field created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategoryTypeField"}}}},"400":{"description":"Invalid request data"},"401":{"description":"Authentication required"},"500":{"description":"Server error"}}}},"/api/risk-template-category-type-fields/{id}":{"get":{"summary":"Get a specific risk template category type field by ID","description":"Retrieve risk template category type field details based on the provided ID","tags":["RiskTemplateCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","format":"int64"},"description":"Risk template category type field ID"}],"responses":{"200":{"description":"Risk template category type field details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategoryTypeField"}}}},"401":{"description":"Authentication required"},"404":{"description":"Risk template category type field not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk template category type field","description":"Update risk template category type field details based on the provided ID","tags":["RiskTemplateCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","format":"int64"},"description":"Risk template category type field ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"riskTemplateCategoryID":{"type":"integer","description":"ID of the associated risk template category"},"item_fields":{"type":"string","maxLength":255,"description":"Item fields definition"},"field_label":{"type":"string","maxLength":100,"description":"Label for the field"},"display_on_ui":{"type":"integer","description":"Whether to display this field on the UI (0 = false, 1 = true)"}}}}}},"responses":{"200":{"description":"Risk template category type field updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateCategoryTypeField"}}}},"400":{"description":"Invalid request data"},"401":{"description":"Authentication required"},"404":{"description":"Risk template category type field not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk template category type field","description":"Remove a risk template category type field from the database","tags":["RiskTemplateCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer","format":"int64"},"description":"Risk template category type field ID"}],"responses":{"200":{"description":"Risk template category type field deleted successfully"},"401":{"description":"Authentication required"},"404":{"description":"Risk template category type field not found"},"500":{"description":"Server error"}}}},"/api/risk-template-category-type-fields/category/{categoryId}":{"get":{"summary":"Get all fields for a specific risk template category","description":"Retrieve all risk template category type fields for a given category ID","tags":["RiskTemplateCategoryTypeFields"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"categoryId","required":true,"schema":{"type":"integer"},"description":"Risk Template Category ID"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20},"description":"Number of items per page"}],"responses":{"200":{"description":"A paginated list of risk template category type fields","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateCategoryTypeField"}},"total":{"type":"integer"},"page":{"type":"integer"},"pageSize":{"type":"integer"},"totalPages":{"type":"integer"}}}}}},"401":{"description":"Authentication required"},"500":{"description":"Server error"}}}},"/api/risk-template-items":{"get":{"summary":"Retrieve a list of risk template items","description":"Get all risk template items from the database","tags":["RiskTemplateItems"],"responses":{"200":{"description":"A list of risk template items","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateItem"}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk template item","description":"Add a new risk template item to the database","tags":["RiskTemplateItems"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateItem"}}}},"responses":{"201":{"description":"Risk template item created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateItem"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-template-items/{id}":{"get":{"summary":"Get a specific risk template item by ID","description":"Retrieve risk template item details based on the provided ID","tags":["RiskTemplateItems"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Item ID"}],"responses":{"200":{"description":"Risk Template Item details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateItem"}}}},"404":{"description":"Risk Template Item not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk template item","description":"Update risk template item details based on the provided ID","tags":["RiskTemplateItems"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Item ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateItem"}}}},"responses":{"200":{"description":"Risk template item updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateItem"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk template item not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk template item","description":"Delete a risk template item based on the provided ID","tags":["RiskTemplateItems"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Item ID"}],"responses":{"204":{"description":"Risk template item deleted successfully"},"404":{"description":"Risk template item not found"},"500":{"description":"Server error"}}}},"/api/risk-template-items/category/{categoryId}":{"get":{"summary":"Get all items for a specific risk template category","description":"Retrieve all risk template items for a given category ID","tags":["RiskTemplateItems"],"parameters":[{"in":"path","name":"categoryId","required":true,"schema":{"type":"integer"},"description":"Risk Template Category ID"}],"responses":{"200":{"description":"A list of risk template items","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateItem"}}}}},"500":{"description":"Server error"}}}},"/api/risk-templates":{"get":{"summary":"Retrieve a list of risk templates","description":"Get all risk templates from the database","tags":["RiskTemplates"],"responses":{"200":{"description":"A list of risk templates","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplate"}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk template","description":"Add a new risk template to the database","tags":["RiskTemplates"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplate"}}}},"responses":{"201":{"description":"Risk template created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplate"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-templates/active":{"get":{"summary":"Retrieve a list of active risk templates","description":"Get all active risk templates from the database","tags":["RiskTemplates"],"responses":{"200":{"description":"A list of active risk templates","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplate"}}}}},"500":{"description":"Server error"}}}},"/api/risk-templates/{id}":{"get":{"summary":"Get a specific risk template by ID","description":"Retrieve risk template details based on the provided ID","tags":["RiskTemplates"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template ID"}],"responses":{"200":{"description":"Risk Template details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplate"}}}},"404":{"description":"Risk Template not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk template","description":"Update risk template details based on the provided ID","tags":["RiskTemplates"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplate"}}}},"responses":{"200":{"description":"Risk template updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplate"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk template not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk template","description":"Delete a risk template based on the provided ID","tags":["RiskTemplates"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template ID"}],"responses":{"204":{"description":"Risk template deleted successfully"},"404":{"description":"Risk template not found"},"500":{"description":"Server error"}}}},"/api/risk-template-sections":{"get":{"summary":"Retrieve a list of risk template sections","description":"Get all risk template sections from the database","tags":["RiskTemplateSections"],"responses":{"200":{"description":"A list of risk template sections","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateSection"}}}}},"500":{"description":"Server error"}}},"post":{"summary":"Create a new risk template section","description":"Add a new risk template section to the database","tags":["RiskTemplateSections"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateSection"}}}},"responses":{"201":{"description":"Risk template section created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateSection"}}}},"400":{"description":"Invalid request data"},"500":{"description":"Server error"}}}},"/api/risk-template-sections/{id}":{"get":{"summary":"Get a specific risk template section by ID","description":"Retrieve risk template section details based on the provided ID","tags":["RiskTemplateSections"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Section ID"}],"responses":{"200":{"description":"Risk Template Section details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateSection"}}}},"404":{"description":"Risk Template Section not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update an existing risk template section","description":"Update risk template section details based on the provided ID","tags":["RiskTemplateSections"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Section ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateSection"}}}},"responses":{"200":{"description":"Risk template section updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskTemplateSection"}}}},"400":{"description":"Invalid request data"},"404":{"description":"Risk template section not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a risk template section","description":"Remove a risk template section from the database","tags":["RiskTemplateSections"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Risk Template Section ID"}],"responses":{"200":{"description":"Risk template section deleted successfully"},"404":{"description":"Risk template section not found"},"500":{"description":"Server error"}}}},"/api/risk-template-sections/template/{templateId}":{"get":{"summary":"Get all sections for a specific risk template","description":"Retrieve all risk template sections for a given template ID","tags":["RiskTemplateSections"],"parameters":[{"in":"path","name":"templateId","required":true,"schema":{"type":"integer"},"description":"Risk Template ID"}],"responses":{"200":{"description":"A list of risk template sections","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RiskTemplateSection"}}}}},"500":{"description":"Server error"}}}},"/api/sync/changes":{"get":{"summary":"Get changes since last sync","tags":["Synchronization"],"parameters":[{"in":"query","name":"deviceId","schema":{"type":"string"},"required":true,"description":"Device identifier"},{"in":"query","name":"userId","schema":{"type":"string"},"required":true,"description":"User identifier"},{"in":"query","name":"lastSyncTimestamp","schema":{"type":"string","format":"date-time"},"required":true,"description":"Timestamp of last successful sync"},{"in":"query","name":"entities","schema":{"type":"array","items":{"type":"string"}},"description":"List of entity types to sync"}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"object","properties":{"appointments":{"type":"array","items":{"$ref":"#/components/schemas/Appointment"}},"riskAssessmentMasters":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentMaster"}},"riskAssessmentItems":{"type":"array","items":{"$ref":"#/components/schemas/RiskAssessmentItem"}},"syncTimestamp":{"type":"string","format":"date-time"}}}}}}}}},"/api/sync/batch":{"post":{"summary":"Batch sync changes from mobile to server","tags":["Synchronization"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchSyncRequest"}}}},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"syncTimestamp":{"type":"string","format":"date-time"},"sessionId":{"type":"integer"}}}}}}}}},"/api/sync/media/upload":{"post":{"summary":"Upload media file to Azure Blob Storage","tags":["Synchronization"],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["file","entityName","entityId","fileType"],"properties":{"file":{"type":"string","format":"binary"},"entityName":{"type":"string"},"entityId":{"type":"integer"},"fileType":{"type":"string"},"metadata":{"type":"string"}}}}}},"responses":{"200":{"description":"File uploaded successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"fileId":{"type":"integer"},"blobUrl":{"type":"string"}}}}}}}}},"/api/sync/media/{fileId}":{"get":{"summary":"Download a media file","tags":["Synchronization"],"parameters":[{"in":"path","name":"fileId","schema":{"type":"integer"},"required":true,"description":"ID of the media file"}],"responses":{"200":{"description":"File content","content":{"application/octet-stream":{"schema":{"type":"string","format":"binary"}}}}}},"delete":{"summary":"Delete a media file","tags":["Synchronization"],"parameters":[{"in":"path","name":"fileId","schema":{"type":"integer"},"required":true,"description":"ID of the media file"}],"responses":{"200":{"description":"File deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"}}}}}}}}},"/api/sync/sessions":{"get":{"summary":"Get sync sessions for a device","tags":["Synchronization"],"parameters":[{"in":"query","name":"deviceId","schema":{"type":"string"},"required":true,"description":"Device identifier"}],"responses":{"200":{"description":"List of sync sessions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SyncSession"}}}}}}}},"/api/sync/media/entity/{entityName}/{entityId}":{"get":{"summary":"Get media files for an entity","tags":["Synchronization"],"parameters":[{"in":"path","name":"entityName","schema":{"type":"string"},"required":true,"description":"Name of the entity (appointment, riskAssessmentMaster, riskAssessmentItem)"},{"in":"path","name":"entityId","schema":{"type":"integer"},"required":true,"description":"ID of the entity"}],"responses":{"200":{"description":"List of media files","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MediaFile"}}}}}}}},"/api/sync/debug":{"get":{"summary":"Get sync debugging information and health report","tags":["Synchronization"],"responses":{"200":{"description":"Sync debug information","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"analysis":{"type":"object","description":"Analysis of sync logs"},"recentSessions":{"type":"array","description":"Recent sync sessions"},"healthReport":{"type":"string","description":"Formatted health report"},"debugInfo":{"type":"object","description":"Summary debug information"}}}}}}}}},"/api/user-entity-mappings":{"get":{"summary":"Get all user entity mappings (Admin only)","tags":["User Entity Mappings"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1}},{"in":"query","name":"pageSize","schema":{"type":"integer","default":20}},{"in":"query","name":"userId","schema":{"type":"string"},"description":"Filter by specific Azure AD User ID"},{"in":"query","name":"entityType","schema":{"type":"string","enum":["Client","Broker","Insurer"]},"description":"Filter by entity type"}],"responses":{"200":{"description":"User entity mappings retrieved successfully"},"403":{"description":"Admin access required"}}},"post":{"summary":"Create a new user entity mapping (Admin only)","tags":["User Entity Mappings"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["azureADUserID","entityType","entityID"],"properties":{"azureADUserID":{"type":"string","description":"Azure AD User ID (oid from token)"},"entityType":{"type":"string","enum":["Client","Broker","Insurer"]},"entityID":{"type":"string","description":"Entity ID from Entity table"},"notes":{"type":"string","description":"Optional notes"}}}}}},"responses":{"201":{"description":"Entity mapping created successfully"},"403":{"description":"Admin access required"}}}},"/api/user-entity-mappings/user/{userId}":{"get":{"summary":"Get entity mappings for a specific user","tags":["User Entity Mappings"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"},"description":"Azure AD User ID"}],"responses":{"200":{"description":"User entity mappings retrieved successfully"},"403":{"description":"Access denied"}}}},"/api/user-entity-mappings/{mappingId}":{"delete":{"summary":"Delete (deactivate) a user entity mapping (Admin only)","tags":["User Entity Mappings"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"mappingId","required":true,"schema":{"type":"integer"},"description":"Mapping ID to delete"}],"responses":{"200":{"description":"Entity mapping deleted successfully"},"403":{"description":"Admin access required"},"404":{"description":"Mapping not found"}}}},"/api/mobile/appointment/{appointmentId}/complete-data":{"get":{"summary":"Get complete appointment data (Mobile Optimized)","description":"**Mobile Performance Optimization**: Returns complete appointment data \nwith all related client, surveyor, business, and sync information in a single API call.\n\n**Uses v_appointment_view**: Single query against comprehensive appointment view\nwith all related data pre-joined for optimal performance.\n\n**Performance Impact**: \n- Before: Multiple API calls with fallback logic\n- After: Single consistent response structure\n\n**Mobile Features**:\n- Complete appointment context from database view\n- Real-time sync status and metadata\n- GPS coordinates for location tracking\n- Offline-ready format with cache optimization\n","tags":["Mobile APIs - Appointment"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"appointmentId","required":true,"schema":{"type":"integer"},"description":"Appointment ID to get complete data for"}],"responses":{"200":{"description":"Complete appointment data retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"appointmentId":{"type":"string","example":"12345"},"orderData":{"type":"object","properties":{"orderId":{"type":"integer"},"orderStatus":{"type":"string"},"policy":{"type":"string"},"clientsName":{"type":"string"},"orderDate":{"type":"string","format":"date-time"},"dateCompleted":{"type":"string","format":"date-time"}}},"appointmentDetails":{"type":"object","properties":{"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"followUpDate":{"type":"string","format":"date-time"},"arrivalTime":{"type":"string","format":"date-time"},"departureTime":{"type":"string","format":"date-time"},"inviteStatus":{"type":"string"},"meetingStatus":{"type":"string"},"location":{"type":"string"},"comments":{"type":"string"},"category":{"type":"string"},"outOfTown":{"type":"boolean"},"surveyorComments":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"}}},"clientData":{"type":"object","properties":{"clientId":{"type":"integer"},"clientsName":{"type":"string"},"client":{"type":"string"},"title":{"type":"string"},"titleId":{"type":"integer"},"cell":{"type":"string"},"phoneNo":{"type":"string"},"email":{"type":"string"},"initials":{"type":"string"},"fullAddress":{"type":"string"},"region":{"type":"string"},"city":{"type":"string"}}},"surveyorData":{"type":"object","properties":{"surveyorId":{"type":"integer"},"surveyor":{"type":"string"},"surveyorEmail":{"type":"string"},"requestedBy":{"type":"string"},"capturedBy":{"type":"string"}}},"businessData":{"type":"object","properties":{"insurer":{"type":"string"},"broker":{"type":"string"},"sumInsured":{"type":"number"},"poNo":{"type":"string"},"poNo2":{"type":"string"}}},"syncData":{"type":"object","properties":{"eventId":{"type":"string"},"dateModified":{"type":"string","format":"date-time"},"lastModifiedById":{"type":"integer"},"isSynced":{"type":"boolean"},"syncVersion":{"type":"integer"},"deviceId":{"type":"string"},"syncStatus":{"type":"string"},"syncTimestamp":{"type":"string","format":"date-time"}}},"mobileOptimization":{"type":"object","properties":{"cacheKey":{"type":"string"},"lastUpdated":{"type":"string","format":"date-time"},"dataVersion":{"type":"string"},"offlineCapable":{"type":"boolean"}}}}},"performance":{"type":"object","properties":{"queryTime":{"type":"string"},"optimization":{"type":"string","example":"Mobile appointment data consolidation"}}}}}}}},"401":{"description":"Authentication required"},"404":{"description":"Appointment not found"}}}},"/api/mobile/risk-assessment/{orderId}/complete-hierarchy":{"get":{"summary":"Get complete risk assessment hierarchy (Mobile Optimized)","description":"**Mobile Performance Optimization**: Returns complete risk assessment hierarchy \nwith all nested sections, categories, and items in a single API call.\n\n**Eliminates N+1 Problem**: Replaces 8-15 sequential API calls with 1 optimized query.\n\n**Performance Impact**: \n- Before: 3-5 seconds load time (8-15 API calls)\n- After: <1 second load time (1 API call)\n\n**Mobile Features**:\n- Complete hierarchical data structure\n- Calculated totals and statistics\n- Cache-friendly with expiration info\n- Offline-ready data format\n","tags":["Mobile APIs - Risk Assessment"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"orderId","required":true,"schema":{"type":"integer"},"description":"Order ID to get risk assessment hierarchy for"},{"in":"query","name":"includeEmpty","schema":{"type":"boolean","default":false},"description":"Include sections/categories with no items"}],"responses":{"200":{"description":"Complete risk assessment hierarchy retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"orderNumber":{"type":"string","example":"POL-2024-001"},"assessmentMasters":{"type":"array","items":{"type":"object","properties":{"riskAssessmentId":{"type":"integer"},"assessmentTypeName":{"type":"string"},"templateName":{"type":"string"},"status":{"type":"string"},"sections":{"type":"array","items":{"type":"object","properties":{"riskAssessmentSectionId":{"type":"integer"},"sectionName":{"type":"string"},"sectionOrder":{"type":"integer"},"categories":{"type":"array","items":{"type":"object","properties":{"riskAssessmentCategoryId":{"type":"integer"},"categoryName":{"type":"string"},"categoryOrder":{"type":"integer"},"items":{"type":"array","items":{"type":"object","properties":{"riskAssessmentItemId":{"type":"integer"},"itemPrompt":{"type":"string"},"itemType":{"type":"integer"},"rank":{"type":"integer"},"selectedAnswer":{"type":"string"},"qty":{"type":"number"},"price":{"type":"number"},"description":{"type":"string"},"model":{"type":"string"},"location":{"type":"string"},"isActive":{"type":"boolean"}}}},"itemCount":{"type":"integer"},"totalValue":{"type":"number"}}}},"categoryCount":{"type":"integer"},"sectionTotalValue":{"type":"number"}}}},"totalItems":{"type":"integer"},"totalSections":{"type":"integer"},"totalCategories":{"type":"integer"},"assessmentTotalValue":{"type":"number"}}}},"summary":{"type":"object","properties":{"totalAssessments":{"type":"integer"},"totalItems":{"type":"integer"},"overallTotalValue":{"type":"number"},"lastModified":{"type":"string","format":"date-time"}}},"cacheInfo":{"type":"object","properties":{"cacheable":{"type":"boolean"},"cacheKey":{"type":"string"},"expiresIn":{"type":"integer"}}}}},"performance":{"type":"object","properties":{"queryTime":{"type":"string"},"optimization":{"type":"string","example":"Mobile N+1 elimination"}}}}}}}},"401":{"description":"Authentication required"},"403":{"description":"Access denied to this order"},"404":{"description":"Risk assessment hierarchy not found"}}}},"/api/mobile/survey/{orderId}/complete-summary":{"get":{"summary":"Get complete survey summary (Mobile Optimized)","description":"**Mobile Performance Optimization**: Returns complete survey summary \nwith all calculated totals, detailed item information, and submission status in a single API call.\n\n**Eliminates N+1 Problem**: Replaces 10-20 API calls with 1 optimized query.\n\n**Performance Impact**: \n- Before: Multiple API calls for summary generation\n- After: Single comprehensive response with detailed item data\n\n**Mobile Features**:\n- Complete survey progress tracking\n- Detailed item information (description, model, location, notes)\n- Individual item pricing and quantities\n- Submission readiness validation\n- Offline-ready summary data\n- Performance optimized calculations\n","tags":["Mobile APIs - Survey"],"security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"orderId","required":true,"schema":{"type":"integer"},"description":"Order ID to get survey summary for"}],"responses":{"200":{"description":"Complete survey summary retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"surveyId":{"type":"string","example":"SURV-12345"},"orderNumber":{"type":"string","example":"POL-2024-001"},"appointmentData":{"type":"object","properties":{"appointmentId":{"type":"string"},"client":{"type":"string"},"address":{"type":"string"},"date":{"type":"string","format":"date"},"policyNo":{"type":"string"},"sumInsured":{"type":"string"},"broker":{"type":"string"}}},"assessmentSummaries":{"type":"array","items":{"type":"object","properties":{"assessmentTypeName":{"type":"string"},"sections":{"type":"array","items":{"type":"object","properties":{"sectionName":{"type":"string"},"categories":{"type":"array","items":{"type":"object","properties":{"categoryName":{"type":"string"},"itemCount":{"type":"integer"},"totalValue":{"type":"number"},"items":{"type":"array","items":{"type":"object","properties":{"riskAssessmentItemId":{"type":"integer"},"itemPrompt":{"type":"string"},"description":{"type":"string"},"model":{"type":"string"},"location":{"type":"string"},"notes":{"type":"string"},"price":{"type":"number"},"qty":{"type":"number"},"itemValue":{"type":"number"}}}}}}},"sectionItemCount":{"type":"integer"},"sectionTotalValue":{"type":"number"}}}},"assessmentItemCount":{"type":"integer"},"assessmentTotalValue":{"type":"number"}}}},"overallSummary":{"type":"object","properties":{"totalItems":{"type":"integer"},"totalValue":{"type":"number"},"lastActivity":{"type":"string","format":"date-time"}}},"submissionStatus":{"type":"object","properties":{"canSubmit":{"type":"boolean"},"requiredCompletionPercentage":{"type":"integer"},"missingRequiredFields":{"type":"array","items":{"type":"string"}},"warnings":{"type":"array","items":{"type":"string"}}}}}},"performance":{"type":"object","properties":{"queryTime":{"type":"string"},"optimization":{"type":"string","example":"Mobile survey summary optimization"}}}}}}}},"401":{"description":"Authentication required"},"404":{"description":"Survey data not found"}}}}}}